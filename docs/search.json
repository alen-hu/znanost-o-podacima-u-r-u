[
  {
    "objectID": "01_uvod_u_znanost_o_podacima.html",
    "href": "01_uvod_u_znanost_o_podacima.html",
    "title": "1  Uvod u znanost o podacima",
    "section": "",
    "text": "This is a book created from markdown and executable code.\nSee Knuth (1984) for additional discussion of literate programming.\n\n\n\n\n\n\nKnuth, Donald E. 1984. “Literate Programming.” Comput. J. 27 (2): 97–111. https://doi.org/10.1093/comjnl/27.2.97.",
    "crumbs": [
      "Uvod u znanost o podacima",
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>Uvod u znanost o podacima</span>"
    ]
  },
  {
    "objectID": "03_uredivanje_podataka.html",
    "href": "03_uredivanje_podataka.html",
    "title": "3  Uređivanje podataka",
    "section": "",
    "text": "1 Format podataka u R-u\nUređivanje podataka (data tidying) predstavlja proces transformacije podataka iz oblika u kojem su inicijalno organizirani u konzistentan i standardiziran format koji olakšava analizu i vizualizaciju. Uređivanje podataka zapravo obuhvaća pohranjivanje podataka u konzistentnom obliku koji odgovara semantici skupa podataka s načinom na koji su pohranjeni. Ovaj je proces temeljni korak u cjelokupnom procesu analize podataka jer omogućuje lakši i efikasniji rad s podacima pomoću različitih analitičkih alata.\nUređivanje i transformacija podataka zajedno se kolokvijalno nazivaju hrvanje s podacima (data wrangling) jer se odnose na dovođenje podataka u oblik prirodan za rad, a koji često nalikuje hrvanju s podacima. Većina stvarnih podataka nije uredna u početnoj fazi što znači da većina analiza zahtijevati barem malo uređivanja. Glavni cilj uređivanja podataka pritom nije stvaranje vizualno privlačnih prikaza podataka, nego uspostavljanje strukture koja omogućuje efikasno korištenje analitičkih alata i funkcija.\nU procesu bavljenja s podacima, uređivanje predstavlja ključnu kariku između uvoza podataka u R i njihove analize. Drugim riječima, nakon što se podaci uvezu, nužno je njihovo uređivanje jer uređeni podaci omogućuju fokusiranje napora na odgovaranje pitanja o podacima, a ne borbu s dovođenjem podataka u odgovarajući oblik za različite funkcije. Ovaj pristup značajno smanjuje mogućnost grešaka tijekom analize, ali i povećava produktivnost analitičara u bavljenju s podacima.\nUredni podaci (tidy data) predstavljaju konzistentan način organiziranja podataka. Postoje tri međusobno povezana pravila koja čine skup podataka urednim:\nSegmenti podataka u podatkovnom okviru raspoređeni su kroz varijable, opažanja i pojedine vrijednosti. Varijabla predstavlja svojstvo ili karakteristiku koja se mjeri i koja može poprimiti različite vrijednosti. U kontekstu filmskih podataka, varijable mogu biti naziv filma, godina premijere, žanr ili trajanje filma. U urednim podatkovnim okvirima one su raspoređene u stupcima podatkovnih okvira. To znači da svaki stupac predstavlja jednu vrstu informacije. Primjerice, varijable mogu biti “movie” u kojoj se nalaze nazivi filmova, “realise_year” u kojoj se nalaze godine kada je film premijerno prikazan, “runtime” u kojoj se nalazi trajanje filma itd. Opažanje predstavlja jedan slučaj ili jedinicu analize za koju prikupljamo podatke o različitim varijablama. U urednim podatkovnim okvirima opažanja su pojedini redovi u tablici koji pripadaju jednoj jedinici analize (npr. jednom ispitaniku, kućanstvu, državi itd.) i sadrži vrijednosti niza varijabli koje opisuju tu jedinicu. Dok varijable predstavljaju svojstva, opažanja su konkretne realizacije tih svojstava za svaku jedinicu. U primjeru filmova svaki red predstavlja po jedan film koji je po jedno opažanje. Vrijednost je sadržaj jedne ćelije na sjecištu određene varijable i opažanja. Ona predstavlja jednu mjeru jedne varijable za jednu jedinicu i ne bi smjela sadržavati više informacija spojenih u istu ćeliju. U tehničkom smislu pojedinačna vrijednost je vrijednost određenog tipa podataka (npr. broj, logička vrijednost, znakovni niz, datum ili nedostajuća vrijednost). Na primjer, vrijednost koja prikazuje varijablu “realise_year” za opažanje “The Shawshak Redemption” je “1994”, a vrijednost koja prikazuje varijablu “director” za opažanje “The Lord of the Rings: The Return of the King” je “Peter Jackson”.\nPrimjer jednog urednog podatkovnog okvira je imdb_top_10_tidy_dataset u kojem je svaki redak jedno je opažanje, odnosno jedan film, a svaki stupac pojedino obilježje filma, odnosno varijabla koja prikazuje naziv, godinu izdanja, glumce, redatelje i ostale informacije o filmovima.\nUredna struktura podataka je važna jer čini podatke kompatibilnima s R-ovim vektoriziranim pristupom i omogućuje direktnu upotrebu funkcija kao što su filter(), group_by(), summarise() i ggplot() bez dodatnih transformacija podataka. Kada su podatci uredni, moguće je direktno filtrirati podatke po bilo kojoj varijabli, grupirati podatke po kategorijama i kreirati vizualizacije bez složenih priprema. Ako su podaci neuredni, onda je provođenje svih ovih postupaka uvelike otežano.\nIsti podaci mogu se organizirati u dugački (long) i široki (wide) format. Primjena ova dva formata ključno je za efikasno uređivanje podataka jer različite analize i vizualizacije zahtijevaju različite formate podataka.\nDugački format karakteriziran je time što se sve vrijednosti jedne varijable nalaze u jednom stupcu. Ovaj format rezultira podatkovnim okvirom s više redaka, ali manjim brojem stupaca. Dugački format prirodniji je za analizu podataka jer slijedi temeljna načela urednih podataka. U ovom formatu lakše je provoditi grupne operacije, stvarati vizualizacije i primjenjivati statističke funkcije.\nPrimjer jednog takvog podatkovnog okvira je imdb_top_10_long. Podaci su organizirani u dugom obliku s četiri stupca: “rank”, “movie”, “attribute” i “value”. Stupci “rank” i “movie” čine identifikator svakog filma, a za svaki film postoji po više redaka, odnosno po jedan redak za svako obilježje koje je zapisano u varijabli “attribute”. Naziv obilježja pritom stoji u varijabli “attribute”, dok se sama vrijednost obilježja nalazi u varijabli “value”. Time jedan film zauzima po jedan red za svaki atribut.\nimdb_top_10_long\n\n# A tibble: 100 × 4\n    rank movie                    attribute           value                     \n   &lt;dbl&gt; &lt;chr&gt;                    &lt;chr&gt;               &lt;chr&gt;                     \n 1     1 The Shawshank Redemption release_year        1994                      \n 2     1 The Shawshank Redemption countries_of_origin United States             \n 3     1 The Shawshank Redemption director            Frank Darabont            \n 4     1 The Shawshank Redemption writers             Stephen King, Frank Darab…\n 5     1 The Shawshank Redemption stars               Tim Robbins, Morgan Freem…\n 6     1 The Shawshank Redemption genres              Drama                     \n 7     1 The Shawshank Redemption language            English                   \n 8     1 The Shawshank Redemption runtime             142                       \n 9     1 The Shawshank Redemption colour              Color                     \n10     1 The Shawshank Redemption budget              25000000                  \n# ℹ 90 more rows\nŠiroki format karakterizira raspored u kojem svaka promatrana jedinica zauzima jedan redak, dok se različite varijable te jedinice nalaze u zasebnim stupcima. Drugim riječima, informacije su raširene po stupcima, a ne grupirane u jedan stupac s pripadajućim identifikatorima. Temeljna karakteristika širokog formata je da svaka kombinacija jedinice i varijable ima vlastiti stupac što često rezultira velikim brojem stupaca, osobito kada se radi o ponovljenim mjerenjima kroz vrijeme, različitim uvjetima ili kategorijama.\nPrimjer takvog podatkovnog okvira je imdb_decades u kojem svaki redak predstavlja po jedan film, svaki stupac pojedino desetljeće, a u ćelijama nalazi godina premijere filma u stupcu desetljeća u kojem je film nastao, odnosno NA ako film nije nastao u tom desetljeću.\n# A tibble: 10 × 7\n   movie                         `1950s` `1960s` `1970s` `1980s` `1990s` `2000s`\n   &lt;chr&gt;                           &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt; &lt;lgl&gt;     &lt;dbl&gt;   &lt;dbl&gt;\n 1 The Shawshank Redemption           NA      NA      NA NA         1994      NA\n 2 The Godfather                      NA      NA    1972 NA           NA      NA\n 3 The Dark Knight                    NA      NA      NA NA           NA    2008\n 4 The Godfather Part II              NA      NA    1974 NA           NA      NA\n 5 12 Angry Men                     1957      NA      NA NA           NA      NA\n 6 Lord of the Rings: Return of…      NA      NA      NA NA           NA    2003\n 7 Schindler's List                   NA      NA      NA NA         1993      NA\n 8 Pulp Fiction                       NA      NA      NA NA         1994      NA\n 9 Lord of the Rings: Fellowship      NA      NA      NA NA           NA    2001\n10 The Good, the Bad and the Ug…      NA    1966      NA NA           NA      NA\nPritom je važno naglasiti da nijedan od ova dva formata nije inherentno uredan ili neuredan, nego to ovisi o tome što stupci, redovi i ćelije predstavljaju u kontekstu podataka. Dugački format je općenito bolji za analizu podataka jer funkcije poput dplyr paketa prirodno rade s jednim stupcem vrijednosti, a ggplot2 paket je dizajniran za dugački format jer mapira estetike na stupce. Također, u dugačkom je formatu lakše dodavati nova vremenska razdoblja ili kategorije jer se jednostavno dodaju novi redovi umjesto novih stupaca. Široki format je bolji za prezentaciju i izvještaje jer je ljudima prirodnije čitati podatke kada su povezane vrijednosti prikazane horizontalno kao stupci, kao i za matrične operacije poput korelacijske analize ili unos podataka jer odražava način kako ljudi razmišljaju o podacima.",
    "crumbs": [
      "Uvoz i uređivanje podataka",
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Uređivanje podataka</span>"
    ]
  },
  {
    "objectID": "03_uredivanje_podataka.html#format-podataka-u-r-u",
    "href": "03_uredivanje_podataka.html#format-podataka-u-r-u",
    "title": "3  Uređivanje podataka",
    "section": "",
    "text": "Tablica 1: Široki format\n\n\n\n\n\nID\nA\nB\nC\n\n\n\n\n1\n10\n20\n30\n\n\n2\n40\n50\n60\n\n\n\n\n\n\n\n\n\n\n\nTablica 2: Dugački format\n\n\n\n\n\nID\nname\nvalue\n\n\n\n\n1\nA\n10\n\n\n1\nB\n20\n\n\n1\nC\n30\n\n\n2\nA\n40\n\n\n2\nB\n50\n\n\n2\nC\n60",
    "crumbs": [
      "Uvoz i uređivanje podataka",
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Uređivanje podataka</span>"
    ]
  },
  {
    "objectID": "03_uredivanje_podataka.html#uređivanje-neurednih-podataka",
    "href": "03_uredivanje_podataka.html#uređivanje-neurednih-podataka",
    "title": "3  Uređivanje podataka",
    "section": "2 Uređivanje neurednih podataka",
    "text": "2 Uređivanje neurednih podataka\nKada podaci u podatkovnom okviru ne ispunjavaju uvjete o urednim podacima, onda podatke takvih podatkovnih okvira nazivamo neurednim podacima te je bilo kakav rad na podacima otežan. Postoje različiti mogući oblici neurednih podataka, odnosno različiti načini na koji podaci u podatkovnom okviru mogu biti posloženi, a koji otežavaju daljnji rad na podacima. Pritom uređivanje uključuje produljenje i proširenje podataka. Produljenje podataka uključuje pretvaranje širokih podatkovnih okvira u oblik koji ima više redaka, a manje stupaca. Suprotno, proširenje podataka uključuje pretvaranje dugih tablica u oblik koji ima manje redaka i više stupaca.\nZa uređivanje podataka u R-u najčešće se koriste dvije funkcije iz tidyr paketa, pivot_longer() za produljivanje i pivot_wider() za proširivanje. pivot_longer() pretvara široku tablicu u dugu, a rezultat je više redaka i manje stupaca. pivot_wider() radi suprotno, iz duge tablice stvara široku, a rezultat je manje redaka i više stupaca. Osim ove dvije funkcije, tidyr paket sadrži još neke funkcije koje pomažu uređivanje podataka. Može se pojaviti više oblika neurednih podatkovnih okvira koje je potrebno urediti.\n\n\n\n\n\n\nTipFunkcija: pivot_longer()\n\n\n\n\n\nFunkcija pivot_longer() dio je tidyr paketa koja produžuje podatke povećavajući broj njihovih redaka i smanjujući broj stupaca. Funkcija može imati slijedeće argumente:\n\n\n\n\n\n\n\nArgument\nObjašnjenje\n\n\n\n\ndata\nPodatkovni okvir u širokom format.\n\n\ncols\nOdređuje koji se stupci pretvaraju u dugi oblik.\n\n\ncols_vary\nOdređuje redoslijed “slaganja” vrijednosti kada ih R raspoređuje u duži oblik. Može biti fastest (zadano) čime se najbrže mijenja stupac (vrijednosti se slažu “po stupcima”) i slowest čime se najsporije mijenja stupac (vrijednosti se slažu “po redovima”).\n\n\nnames_to\nNaziv ili nazivi novih stupaca koji će sadržavati nazive starih stupaca.\n\n\nnames_prefix\nNiz koji će se ukloniti iz naziva stupaca prije nego što se oni stave u names_to.\n\n\nnames_sep\nKoristi se kada u names_to kako bi se njime definirlo koji se razdjelnik koristiti za razbijanje naziva.\n\n\nnames_pattern\nAlternativa names_sep, ali koristi regularne izraze za razbijanje naziva.\n\n\nnames_ptypes\nDopušta da zadamo tip podataka za stupac ili stupce kreirane u names_to.\n\n\nnames_transform\nFunkcija ili lista funkcija koje se primjenjuju na stupce iz names_to.\n\n\nnames_repair\nŠto učiniti ako se u novim imenima stupaca pojave duplikati (zadano je check_unique koji javlja grešku ako nisu jedinstveni.\n\n\nvalues_to\nIme novog stupca u koji idu vrijednosti skupljenih stupaca.\n\n\nvalues_drop_na\nAko je TRUE, brišu se redci u kojima su vrijednosti NA u stupcu values_to.\n\n\nvalues_ptypes\nKao i names_ptypes, ali za stupac values_to.\n\n\nvalues_transform\nFunkcija ili lista funkcija za transformaciju vrijednosti.\n\n\n\n\n\n\n\n\n\n\n\n\nTipFunkcija: pivot_wider()\n\n\n\n\n\nFunkcija pivot_wider() dio je tidyr paketa koja produžuje podatke smanjujući njihov broj redaka i povećavajući broj stupaca. Funkcija može imati slijedeće argumente:\n\n\n\n\n\n\n\nArgument\nObjašnjenje\n\n\n\n\ndata\nPodatkovni okvir u dugom formatu.\n\n\nid_cols\nStupci koji se koriste kao identifikatori opservacija, a koji ostaju kao redovi.\n\n\nid_expand\nAko je TRUE, onda se stvara puni “cross-join” identifikatora i vrijednosti u names_from. Koristi se kada želimo dobiti sve moguće kombinacije, a ne samo postojeće.\n\n\nnames_from\nStupac ili stupci čije se vrijednosti koriste za nazive novih stupaca.\n\n\nnames_prefix\nDodaje prefiks na nazive stupaca.\n\n\nnames_sep\nRazdjelnik koji se koristi ako imamo više varijabli u names_from (zadano je “_“).\n\n\nnames_glue\nOmogućuje korištenje glue sintakse za definiranje imena stupaca.\n\n\nnames_sort\nAko je TRUE, onda će novi stupci biti sortirani po abecedi. Inače redoslijed ostaje kao u podacima.\n\n\nnames_vary\nKontrolira redoslijed kombiniranja imena stupaca kad names_from ima više varijabli ( može biti fastest ili slowest isto kao kod pivot_longer()).\n\n\nnames_expand\nAko je TRUE, onda se kreiraju svi mogući stupci za sve vrijednosti u names_from čak i ako neke kombinacije ne postoje.\n\n\nnames_repair\nKako se ponašati ako nastanu duplikati u imenima stupaca ( zadano je check_unique koji javlja grešku.\n\n\nvalues_from\nStupac čije vrijednosti želimo staviti u ćelije novih stupaca.\n\n\nvalues_fill\nVrijednost kojom se popunjavaju ćelije ako nema podataka (NA).\n\n\nvalues_fn\nFunkcija koja se koristi ako postoji više vrijednosti za istu kombinaciju identifikatora i naziva stupca (npr. values_fn = mean računa prosjek ako ima više vrijednosti).\n\n\nunused_fn\nFunkcija koja određuje što raditi s varijablama koje nisu u id_cols, names_from ili values_from.\n\n\n\n\n\n\n1. Nazivi varijabli kao vrijednosti\nČest problem koji se susreće kod neuredno organiziranih podataka nastaje kada nazivi stupaca ne predstavljaju nazive varijabli, već vrijednosti neke varijable. Ovaj tip neuredno organiziranih podataka krši temeljna načela urednih podataka jer se vrijednosti jedne varijable nalaze u nazivima stupaca umjesto u jednom stupcu. Takav oblik podataka čini ih teškima za analizu jer funkcije u R-u očekuju da se vrijednosti varijabli nalaze u stupcima, a ne u njihovim nazivima.\nPrimjer takvih neurednih podataka je podatkovni okvir imdb_decades u kojem su nazivi stupaca “1950s”, “1960s”, “1970s”, “1980s”, “1990s” i “2000s”, a koji predstavljaju desetlječa. Varijabla “movie” sadrži nazive filmova, dok ćelije sadrže godinu premijere filma ako film pripada određenom desetljeću, odnosno NA ako ne pripada. Ovaj oblik podataka ima široki format gdje se informacije o godini premijere filma protežu kroz više stupaca, a većina ćelija sadrži nedostajuće vrijednosti.\n\n# Pregled neurednog oblika podatkovnog okvira\nimdb_decades\n\n# A tibble: 10 × 7\n   movie                         `1950s` `1960s` `1970s` `1980s` `1990s` `2000s`\n   &lt;chr&gt;                           &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt; &lt;lgl&gt;     &lt;dbl&gt;   &lt;dbl&gt;\n 1 The Shawshank Redemption           NA      NA      NA NA         1994      NA\n 2 The Godfather                      NA      NA    1972 NA           NA      NA\n 3 The Dark Knight                    NA      NA      NA NA           NA    2008\n 4 The Godfather Part II              NA      NA    1974 NA           NA      NA\n 5 12 Angry Men                     1957      NA      NA NA           NA      NA\n 6 Lord of the Rings: Return of…      NA      NA      NA NA           NA    2003\n 7 Schindler's List                   NA      NA      NA NA         1993      NA\n 8 Pulp Fiction                       NA      NA      NA NA         1994      NA\n 9 Lord of the Rings: Fellowship      NA      NA      NA NA           NA    2001\n10 The Good, the Bad and the Ug…      NA    1966      NA NA           NA      NA\n\n\nProblem se rješava pomoću funkcije pivot_longer(). Funkcija omogućuje specificiranje stupaca koji se trebaju urediti pomoću argumenta cols, naziv nove varijable koja će sadržavati nazive stupaca pomoću argumenta names_to te naziv varijable koja će sadržavati vrijednosti iz ćelija pomoću argumenta values_to. Dodatno, argument values_drop_na = TRUE može se koristiti za uklanjanje redova s nedostajućim vrijednostima.\n\n# Uređivanje podatkovnog okvira\nimdb_decades_tidy &lt;- imdb_decades |&gt;\n  pivot_longer(\n    cols = starts_with(c(\"19\", \"20\")),\n    names_to = \"decade\",\n    values_to = \"year\",\n    values_drop_na = TRUE\n  )\n\nNakon primjene funkcije, dobivamo uređeni podatkovni okvir koji sadrži tri stupca: “movie”, “decade” i “year”. Svaki red predstavlja jedno opažanje - kombinaciju filma i desetljeća s odgovarajućom godinom premijere. Uredni format omogućuje lakše grupiranje podataka po desetljećima, izračunavanje sažetaka te stvaranje vizualizacija što bi bilo komplicirano ili nemoguće u neuredno organiziranom širom formatu.\n\n# Pregled urednog oblika podatkovnog okvira\nimdb_decades_tidy\n\n# A tibble: 10 × 3\n   movie                                 decade  year\n   &lt;chr&gt;                                 &lt;chr&gt;  &lt;dbl&gt;\n 1 The Shawshank Redemption              1990s   1994\n 2 The Godfather                         1970s   1972\n 3 The Dark Knight                       2000s   2008\n 4 The Godfather Part II                 1970s   1974\n 5 12 Angry Men                          1950s   1957\n 6 Lord of the Rings: Return of the King 2000s   2003\n 7 Schindler's List                      1990s   1993\n 8 Pulp Fiction                          1990s   1994\n 9 Lord of the Rings: Fellowship         2000s   2001\n10 The Good, the Bad and the Ugly        1960s   1966\n\n\n2. Više varijabli u nazivima stupaca\nSloženiji oblik neurednih podataka nastaje kada se u nazivima stupaca nalazi više dijelova informacije odvojenih određenim separatorom pri čemu svaki dio predstavlja vrijednost različite varijable. Takva organizacija podataka otežava analizu jer se vrijednosti više varijabli nalaze pomiješane u nazivima stupaca umjesto da svaka varijabla ima svoj vlastiti stupac.\nPrimjer takvih podataka je realise_year_runtime_dataset. Kod tih podataka nazivi stupaca poput “1994_142” i “1972_175” sadrže dvije različite informacije odvojene podvlakom, godinu premijere filma i trajanje filma. Stupci “rank” i “movie” predstavljaju identifikacijske varijable, dok ćelije sadrže informaciju o tome je li film u boji ili crno-bijeli s NA vrijednostima za kombinacije koje ne odgovaraju određenom filmu. Ovaj oblik podataka ima izrazito široki format gdje se tri različite varijable (godina, trajanje i boja) nalaze raspršene kroz nazive stupaca i vrijednosti ćelija.\n\n# Pregled neurednog oblika podatkovnog okvira\nrealise_year_runtime_dataset\n\n# A tibble: 10 × 12\n    rank movie  `1994_142` `1972_175` `2008_152` `1974_202` `1957_96` `2003_201`\n   &lt;dbl&gt; &lt;chr&gt;  &lt;chr&gt;      &lt;chr&gt;      &lt;chr&gt;      &lt;chr&gt;      &lt;chr&gt;     &lt;chr&gt;     \n 1     1 The S… Color      &lt;NA&gt;       &lt;NA&gt;       &lt;NA&gt;       &lt;NA&gt;      &lt;NA&gt;      \n 2     2 The G… &lt;NA&gt;       Color      &lt;NA&gt;       &lt;NA&gt;       &lt;NA&gt;      &lt;NA&gt;      \n 3     3 The D… &lt;NA&gt;       &lt;NA&gt;       Color      &lt;NA&gt;       &lt;NA&gt;      &lt;NA&gt;      \n 4     4 The G… &lt;NA&gt;       &lt;NA&gt;       &lt;NA&gt;       Color      &lt;NA&gt;      &lt;NA&gt;      \n 5     5 12 An… &lt;NA&gt;       &lt;NA&gt;       &lt;NA&gt;       &lt;NA&gt;       Black & … &lt;NA&gt;      \n 6     6 The L… &lt;NA&gt;       &lt;NA&gt;       &lt;NA&gt;       &lt;NA&gt;       &lt;NA&gt;      Color     \n 7     7 Schin… &lt;NA&gt;       &lt;NA&gt;       &lt;NA&gt;       &lt;NA&gt;       &lt;NA&gt;      &lt;NA&gt;      \n 8     8 Pulp … &lt;NA&gt;       &lt;NA&gt;       &lt;NA&gt;       &lt;NA&gt;       &lt;NA&gt;      &lt;NA&gt;      \n 9     9 Lord … &lt;NA&gt;       &lt;NA&gt;       &lt;NA&gt;       &lt;NA&gt;       &lt;NA&gt;      &lt;NA&gt;      \n10    10 The G… &lt;NA&gt;       &lt;NA&gt;       &lt;NA&gt;       &lt;NA&gt;       &lt;NA&gt;      &lt;NA&gt;      \n# ℹ 4 more variables: `1993_195` &lt;chr&gt;, `1994_154` &lt;chr&gt;, `2001_154` &lt;chr&gt;,\n#   `1966_178` &lt;chr&gt;\n\n\nProblem se rješava pomoću funkcije pivot_longer() s dodatnim argumentima za razdvajanje složenih naziva stupaca. Ključni argument names_to prima vektor naziva novih varijabli koje će nastati razdvajanjem naziva stupaca, dok argument names_sep specificira separator koji razdvaja različite dijelove naziva stupaca. U ovom slučaju, names_to = c(\"year\", \"runtime\") stvara dvije nove varijable, a names_sep = \"_\" specificira da se nazivi stupaca dijele po podvlaci. Argument values_drop_na = TRUE uklanja redove s nedostajućim vrijednostima koji predstavljaju umjetno stvorene kombinacije.\n\n# Uređivanje podatkovnog okvira\nrealise_year_runtime_dataset_tidy &lt;- realise_year_runtime_dataset |&gt;\n  pivot_longer(\n    cols = -c(rank, movie),\n    names_to = c(\"year\", \"runtime\"),\n    names_sep = \"_\",\n    values_to = \"value\",\n    values_drop_na = TRUE\n  )\n\nNakon primjene funkcije dobivamo uredni podatkovni okvir koji sadrži pet stupaca: “rank”, “movie”, “year”, “runtime” i “value”. Svaki red predstavlja jedno opažanje - jedan film s njegovim karakteristikama.\n\n# Pregled urednog oblika podatkovnog okvira\nrealise_year_runtime_dataset_tidy\n\n# A tibble: 10 × 5\n    rank movie                                         year  runtime value      \n   &lt;dbl&gt; &lt;chr&gt;                                         &lt;chr&gt; &lt;chr&gt;   &lt;chr&gt;      \n 1     1 The Shawshank Redemption                      1994  142     Color      \n 2     2 The Godfather                                 1972  175     Color      \n 3     3 The Dark Knight                               2008  152     Color      \n 4     4 The Godfather Part II                         1974  202     Color      \n 5     5 12 Angry Men                                  1957  96      Black & Wh…\n 6     6 The Lord of the Rings: Return of the King     2003  201     Color      \n 7     7 Schindler's List                              1993  195     Black & Wh…\n 8     8 Pulp Fiction                                  1994  154     Color      \n 9     9 Lord of the Rings: The Fellowship of the Ring 2001  154     Color      \n10    10 The Good, Bas and the Ugly                    1966  178     Color      \n\n\n3. Varijable pohranjene u redovima\nVarijable pohranjene u redovima predstavljaju obrnuti problem od prethodnih slučajeva. U ovom obliku, ono što bi trebale biti varijable nalazi se u redovima, dok se vrijednosti tih varijabli nalaze u drugom stupcu. Ovakav oblik podataka rezultira pretjerano dugačkim formatom gdje se jedno opažanje proteže kroz više redova umjesto da bude sadržano u jednom redu. Ova organizacija čini podatke teškima za analizu jer krši temeljna načela urednih podataka prema kojima svaki red treba predstavljati jedno opažanje.\nU primjeru podatkovnog okvira imdb_top_10_long, svaki film predstavljen je kroz više redova, pri čemu stupac “attribute” sadrži nazive varijabli poput “release_year”, “director”, “genres”, “runtime” i ostale, dok stupac “value” sadrži odgovarajuće vrijednosti tih varijabli. Na primjer, film “The Shawshank Redemption” prikazan je kroz deset redova, po jedan za svaku karakteristiku filma.\n\n# Pregled neurednog oblika podatkovnog okvira\nimdb_top_10_long\n\n# A tibble: 100 × 4\n    rank movie                    attribute           value                     \n   &lt;dbl&gt; &lt;chr&gt;                    &lt;chr&gt;               &lt;chr&gt;                     \n 1     1 The Shawshank Redemption release_year        1994                      \n 2     1 The Shawshank Redemption countries_of_origin United States             \n 3     1 The Shawshank Redemption director            Frank Darabont            \n 4     1 The Shawshank Redemption writers             Stephen King, Frank Darab…\n 5     1 The Shawshank Redemption stars               Tim Robbins, Morgan Freem…\n 6     1 The Shawshank Redemption genres              Drama                     \n 7     1 The Shawshank Redemption language            English                   \n 8     1 The Shawshank Redemption runtime             142                       \n 9     1 The Shawshank Redemption colour              Color                     \n10     1 The Shawshank Redemption budget              25000000                  \n# ℹ 90 more rows\n\n\nProblem se rješava pomoću funkcije pivot_wider(). Funkcija koristi argument names_from za specificiranje stupca koji sadrži nazive budućih varijabli (u ovom slučaju stupac “attribute”) te argument values_from za specificiranje stupca koji sadrži vrijednosti tih varijabli (stupac “value”). Funkcija pivot_wider() automatski grupira podatke prema svim stupcima koji nisu specificirani u names_from i values_from argumentima što znači da će se podaci grupirati po “rank” i “movie” stupcima.\n\n# Uređivanje podatkovnog okvira\nimdb_top_10_wide &lt;- imdb_top_10_long |&gt;\n  pivot_wider(\n    names_from = attribute,\n    values_from = value\n  )\n\nNakon primjene pivot_wider() funkcije, dobivamo uređeni podatkovni okvir koji sadrži 12 stupaca: identifikacijske varijable “rank” i “movie” te deset novih stupaca koji predstavljaju filmske karakteristike. Svaki od 10 redova predstavlja jedan film s njegovim kompletnim karakteristikama.\n\n# Pregled urednog oblika podatkovnog okvira\nhead(imdb_top_10_wide, 3)\n\n# A tibble: 3 × 12\n   rank movie     release_year countries_of_origin director writers stars genres\n  &lt;dbl&gt; &lt;chr&gt;     &lt;chr&gt;        &lt;chr&gt;               &lt;chr&gt;    &lt;chr&gt;   &lt;chr&gt; &lt;chr&gt; \n1     1 The Shaw… 1994         United States       Frank D… Stephe… Tim … Drama \n2     2 The Godf… 1972         United States       Francis… Mario … Marl… Crime…\n3     3 The Dark… 2008         United States, Uni… Christo… Jonath… Chri… Actio…\n# ℹ 4 more variables: language &lt;chr&gt;, runtime &lt;chr&gt;, colour &lt;chr&gt;, budget &lt;chr&gt;\n\n\n4. Isti tip vrijednosti raspoređen u više stupaca\nČetvrti oblik neurednih podataka nastaje kada se vrijednosti iste varijable raspoređuju u više stupaca umjesto da budu pohranjene u jednom stupcu. Ovaj problem često se javlja kada se podaci dizajniraju za lakši unos podataka, a ne za analizu što rezultira situacijom gdje jedna varijabla biva podijeljena u više stupaca. Takva organizacija krši temeljna načela urednih podataka jer se ista vrsta informacije nalazi u različitim stupcima što otežava analize koje zahtijevaju rad s tom varijablom kao cjelinom.\nwriters_dataset je jedan takav podatkovni okvir. U njemu su informacije o scenaristima filmova podijeljene su u tri odvojena stupca: “writer_1”, “writer_2” i “writer_3”. Stupci “rank” i “movie” predstavljaju identifikacijske varijable, dok se imena scenarista nalaze u odvojenim stupcima ovisno o redoslijedu njihovog navođenja. Većina filmova ima dva ili tri scenarista što znači da se u podatkovnom okviru pojavljuju NA vrijednosti kada film nema dovoljno scenarista za popunjavanje svih stupaca. Ovakav format otežava analize poput brojanja koliko filmova ima određeni scenarist ili grupiranja filmova prema scenaristu.\n\n# Pregled neurednog oblika podatkovnog okvira\nwriters_dataset\n\n# A tibble: 10 × 5\n    rank movie                                        writer_1 writer_2 writer_3\n   &lt;dbl&gt; &lt;chr&gt;                                        &lt;chr&gt;    &lt;chr&gt;    &lt;chr&gt;   \n 1     1 The Shawshank Redemption                     Stephen… Frank D… &lt;NA&gt;    \n 2     2 The Godfather                                Mario P… Francis… &lt;NA&gt;    \n 3     3 The Dark Knight                              Jonatha… Christo… David S…\n 4     4 The Godfather Part II                        Francis… Mario P… &lt;NA&gt;    \n 5     5 12 Angry Men                                 Reginal… &lt;NA&gt;     &lt;NA&gt;    \n 6     6 The Lord of the Rings: Return of the King    J.R.R. … Fran Wa… Philipp…\n 7     7 Schindler's List                             Thomas … Steven … &lt;NA&gt;    \n 8     8 Pulp Fiction                                 Quentin… Roger A… &lt;NA&gt;    \n 9     9 Lord of the Rings: The Fellowship of the Ri… J.R.R. … Fran Wa… Philipp…\n10    10 The Good, the Bad and the Ugly               Luciano… Sergio … Agenore…\n\n\nProblem se rješava pomoću funkcije pivot_longer() uz dodatne argumente koji olakšavaju rad s nazivima stupaca koji imaju zajednički prefiks. Argument cols = starts_with(\"writer_\") specificira da se produže svi stupci koji počinju s “writer_”, dok argument names_prefix = \"writer_\" uklanja prefiks iz naziva stupaca prije pohranjivanja u novu varijablu. Argument names_to = \"writer_id\" stvara novu varijablu koja označava redni broj scenarista, a values_to = \"writer\" stvara varijablu koja sadrži imena scenarista. Argument values_drop_na = TRUE uklanja redove s nedostajućim vrijednostima koji nastaju zbog nejednakog broja scenarista po filmovima.\n\n# Uređivanje podatkovnog okvira\nwriters_dataset_tidy &lt;- writers_dataset |&gt;\n  pivot_longer(\n    cols = starts_with(\"writer_\"),\n    names_to = \"writer_id\",\n    names_prefix = \"writer_\",\n    values_to = \"writer\",\n    values_drop_na = TRUE\n  )\n\nNakon primjene funkcije dobivamo uređeni podatkovni okvir koji sadrži četiri stupca: “rank”, “movie”, “writer_id” (redni broj scenarista) i “writer” (ime scenarista). Svaki red predstavlja kombinaciju film-scenarist što omogućuje jednostavno brojanje filmova po scenaristu, identifikaciju najproduktivnijih scenarista ili analizu suradnji između različitih scenarista. Uređeni format također olakšava spajanje s drugim podacima o scenaristima te stvaranje vizualizacija mreža suradnji, što bi bilo komplicirano ili nemoguće u neuredno organiziranom širom formatu s odvojenim stupcima za svakog scenarista.\n\n# Pregled urednog oblika podatkovnog okvira\nwriters_dataset_tidy\n\n# A tibble: 23 × 4\n    rank movie                    writer_id writer              \n   &lt;dbl&gt; &lt;chr&gt;                    &lt;chr&gt;     &lt;chr&gt;               \n 1     1 The Shawshank Redemption 1         Stephen King        \n 2     1 The Shawshank Redemption 2         Frank Darabont      \n 3     2 The Godfather            1         Mario Puzo          \n 4     2 The Godfather            2         Francis Ford Coppola\n 5     3 The Dark Knight          1         Jonathan Nolan      \n 6     3 The Dark Knight          2         Christopher Nolan   \n 7     3 The Dark Knight          3         David S. Goyer      \n 8     4 The Godfather Part II    1         Francis Ford Coppola\n 9     4 The Godfather Part II    2         Mario Puzo          \n10     5 12 Angry Men             1         Reginald Rose       \n# ℹ 13 more rows\n\n\n5. Više vrijednosti u jednoj ćeliji\nOvaj oblik neurednih podataka predstavlja pojednostavljenu verziju prethodnog problema gdje se u jednoj ćeliji nalaze vrijednosti koje pripadaju različitim varijablama, odvojene određenim separatorom. Problem nastaje kada se dvije logički različite varijable kombiniraju u jednu kolonu radi uštede prostora ili zbog ograničenja u sustavima za pohranu podataka. Ovakva organizacija krši temeljna načela urednih podataka jer svaka ćelija treba sadržavati vrijednost samo jedne varijable. Kombiniranje različitih tipova informacija u istoj ćeliji otežava sve oblike analize jer je potrebno najprije izdvojiti pojedinačne komponente prije bilo kakve obrade podataka.\nU primjeru imdb_combined_variables, stupac “director_budget” sadrži kombinaciju imena redatelja i budžeta filma odvojena podvlakom. Na primjer, vrijednost “Frank Darabont_25000000” predstavlja dva različita podatka: ime redatelja “Frank Darabont” i budžet filma od 25 milijuna dolara. Stupci “rank” i “movie” već su u ispravnom formatu jer sadrže samo jednu vrstu informacije po ćeliji.\n\n# Pregled neurednog oblika podatkovnog okvira\nimdb_combined_variables\n\n# A tibble: 10 × 3\n    rank movie                                         director_budget          \n   &lt;dbl&gt; &lt;chr&gt;                                         &lt;chr&gt;                    \n 1     1 The Shawshank Redemption                      Frank Darabont_25000000  \n 2     2 The Godfather                                 Francis Ford Coppola_600…\n 3     3 The Dark Knight                               Christopher Nolan_185000…\n 4     4 The Godfather Part II                         Francis Ford Coppola_130…\n 5     5 12 Angry Men                                  Sidney Lumet_350000      \n 6     6 The Lord of the Rings: Return of the King     Peter Jackson_94000000   \n 7     7 Schindler's List                              Steven Spielberg_22000000\n 8     8 Pulp Fiction                                  Quentin Tarantino_8000000\n 9     9 Lord of the Rings: The Fellowship of the Ring Peter Jackson_93000000   \n10    10 The Good, the Bad and the Ugly                Sergio Leone_1200000     \n\n\nProblem se rješava pomoću funkcije separate() koja omogućuje dijeljenje jednog stupca u dva ili više stupaca na temelju određenog separatora. Funkcija koristi argument col = director_budget za specificiranje stupca koji se želi podijeliti, into = c(\"director\", \"budget\") za definiranje naziva novih stupaca koji će nastati dijeljenjem i sep = \"_\" za navođenje separatora koji razdvaja različite vrijednosti. Funkcija separate() automatski prepoznaje poziciju separatora u svakoj ćeliji i dijeli sadržaj na odgovarajući način, stvarajući dva nova stupca s jasno odvojenima informacijama.\n\n\n\n\n\n\nTipFunkcija: separate()\n\n\n\n\n\nseparate() je ključna funkcija tidyr paketa koja se koristi kada imamo više varijabli spremljenih u jednoj ćeliji, a želimo ih razdvojiti u više stupaca. Funkcija može imati slijedeće argumente:\n\n\n\n\n\n\n\nArgument\nObjašnjenje\n\n\n\n\ndata\nPodatkovni okvir kojem mijenjamo format.\n\n\ncol\nNaziv stupca koji želimo razdvojiti.\n\n\ninto\nImena novih stupaca u koje želimo rasporediti rezultate.\n\n\nsep\nKako razdvajamo vrijednosti u stupcu (npr. “_“,”-“).\n\n\nremove\nAko je TRUE (zadano), onda se originalni stupac briše nakon razdvajanja, a ako je FALSE, onda originalni stupac ostaje u tablici zajedno s novim stupcima.\n\n\nconvert\nAko je TRUE, onda pokušava automatski pretvoriti nove stupce u odgovarajući tip podataka (npr. “1994” u integer), a ako je FALSE, koji je i zadani, onda će svi novi stupci biti character.\n\n\nextra\nŠto napraviti ako se vrijednost razdvoji na više dijelova nego što smo naveli u into. Može biti: warn (zadano) koje izdaje upozorenje i spaja višak u zadnji stupac, drop koje odbacuje višak i merge koje spaja višak u zadnji stupac bez upozorenja.\n\n\nfill\nŠto napraviti ako se vrijednost razdvoji na manje dijelova nego što smo naveli u into. Može biti: warn (zadano) koje izdaje upozorenje, a prazna mjesta popunjava s NA, right kojim se praznine dodaju na kraj i left kojim se praznine dodaju na početak.\n\n\n\n\n\n\n\n# Uređivanje podatkovnog okvira\nimdb_combined_variables_tidy &lt;- imdb_combined_variables |&gt;\n  separate(\n    col = director_budget,\n    into = c(\"director\", \"budget\"),\n    sep = \"_\"\n  )\n\nNakon primjene separate() funkcije dobivamo uređeni podatkovni okvir koji sadrži četiri stupca: “rank”, “movie”, “director” i “budget”. Svaki red predstavlja jedan film s jasno odvojenima karakteristikama, pri čemu svaki stupac sadrži samo jedan tip informacije.\n\n# Pregled urednog oblika podatkovnog okvira\nimdb_combined_variables_tidy\n\n# A tibble: 10 × 4\n    rank movie                                         director           budget\n   &lt;dbl&gt; &lt;chr&gt;                                         &lt;chr&gt;              &lt;chr&gt; \n 1     1 The Shawshank Redemption                      Frank Darabont     25000…\n 2     2 The Godfather                                 Francis Ford Copp… 60000…\n 3     3 The Dark Knight                               Christopher Nolan  18500…\n 4     4 The Godfather Part II                         Francis Ford Copp… 13000…\n 5     5 12 Angry Men                                  Sidney Lumet       350000\n 6     6 The Lord of the Rings: Return of the King     Peter Jackson      94000…\n 7     7 Schindler's List                              Steven Spielberg   22000…\n 8     8 Pulp Fiction                                  Quentin Tarantino  80000…\n 9     9 Lord of the Rings: The Fellowship of the Ring Peter Jackson      93000…\n10    10 The Good, the Bad and the Ugly                Sergio Leone       12000…\n\n\n6. Ista varijabla raspodijeljena u sva stupca\nOvaj oblik neurednih podataka nastaje kada se logički jedna varijabla nepotrebno dijeli u više stupaca. Problem se javlja kada se podaci organiziraju prema komponentama varijable umjesto prema samoj varijabli kao cjelini. Iako ovakva organizacija može biti korisna u specifičnim slučajevima kada trebamo raditi s pojedinim komponentama, češće otežava analizu jer zahtijeva kombiniranje informacija iz više stupaca za dobivanje potpune vrijednosti varijable.\nU primjeru director_names_dataset informacija o imenu redatelja podijeljena je u dva odvojena stupca, “director_first_name” koji sadrži ime i “director_last_name” koji sadrži prezime redatelja. Na primjer, za film “The Shawshank Redemption”, ime redatelja “Frank Darabont” podijeljeno je na “Frank” u prvom stupcu i “Darabont” u drugom stupcu.\n\n# Pregled neurednog oblika podatkovnog okvira\ndirector_names_dataset\n\n# A tibble: 10 × 4\n    rank movie                            director_first_name director_last_name\n   &lt;dbl&gt; &lt;chr&gt;                            &lt;chr&gt;               &lt;chr&gt;             \n 1     1 The Shawshank Redemption         Frank               Darabont          \n 2     2 The Godfather                    Francis Ford        Coppola           \n 3     3 The Dark Knight                  Christopher         Nolan             \n 4     4 The Godfather Part II            Francis Ford        Coppola           \n 5     5 12 Angry Men                     Sidney              Lumet             \n 6     6 The Lord of the Rings: Return o… Peter               Jackson           \n 7     7 Schindler's List                 Steven              Spielberg         \n 8     8 Pulp Fiction                     Quentin             Tarantino         \n 9     9 Lord of the Rings: The Fellowsh… Peter               Jackson           \n10    10 The Good, the Bad and the Ugly   Sergio              Leone             \n\n\nProblem se rješava pomoću funkcije unite() omogućuje spajanje više stupaca u jedan stupac. Funkcija koristi argument col = \"director_name\" za specificiranje naziva novog stupca, zatim navodi nazive stupaca koji se žele spojiti (“director_first_name”, “director_last_name”), te argument sep = \" \" koji definira separator koji će se umetnuti između spojenih vrijednosti. Funkcija unite() automatski kombinira vrijednosti iz specificiranih stupaca redoslijedom kojim su navedeni, stvarajući jednu koherentnu varijablu koja predstavlja punu informaciju.\n\n\n\n\n\n\nTipFunkcija: unite()\n\n\n\n\n\nFunkcija unite() dio je tidyr paketa i koristi se za spajanje više stupaca u jedan stupac u podatkovnom okviru. Ovo je suprotna operacija od separate() funkcije. Funkcija može imati slijedeće argumente:\n\n\n\n\n\n\n\nArgument\nObjašnjenje\n\n\n\n\ndata\nPodatkovni okvir na kojem se izvršava operacija spajanja stupaca.\n\n\ncol\nNaziv novog stupca koji će nastati spajanjem postojećih stupaca. Može se navesti kao string (u navodnicima) ili kao simbol (bez navodnika).\n\n\n...\nStupci koji se žele spojiti.\n\n\nsep\nSeparator koji se umeće između vrijednosti prilikom spajanja.\n\n\nremove\nLogička vrijednost koja određuje treba li ukloniti originalne stupce iz rezultata. Zadana vrijednost je TRUE što znači da se originalni stupci brišu nakon spajanja. Ako postavite FALSE, zadržat ćete i originalne i novi spojeni stupac.\n\n\nna.rm\nLogička vrijednost koja određuje treba li ukloniti nedostajuće vrijednosti (NA) prije spajanja. Ako je TRUE, NA vrijednosti se ignoriraju prilikom spajanja. Zadana vrijednost je FALSE.\n\n\n\n\n\n\n\n# Uređivanje podatkovnog okvira\ndirector_names_dataset_tidy &lt;- director_names_dataset |&gt;\n  unite(\n    col = \"director_name\",\n    director_first_name,\n    director_last_name,\n    sep = \" \"\n  )\n\nNakon primjene funkcije dobivamo uređeni podatkovni okvir koji sadrži četiri stupca: “rank”, “movie” i novi “director_name” (puno ime redatelja). Svaki red predstavlja jedan film s kompletnim imenom redatelja u jednom stupcu što omogućuje jednostavno sortiranje filmova prema imenima redatelja, filtriranje prema specifičnim redateljima te spajanje s drugim izvorima podataka koji koriste puna imena.\n\n# Pregled urednog oblika podatkovnog okvira\ndirector_names_dataset_tidy\n\n# A tibble: 10 × 3\n    rank movie                                         director_name       \n   &lt;dbl&gt; &lt;chr&gt;                                         &lt;chr&gt;               \n 1     1 The Shawshank Redemption                      Frank Darabont      \n 2     2 The Godfather                                 Francis Ford Coppola\n 3     3 The Dark Knight                               Christopher Nolan   \n 4     4 The Godfather Part II                         Francis Ford Coppola\n 5     5 12 Angry Men                                  Sidney Lumet        \n 6     6 The Lord of the Rings: Return of the King     Peter Jackson       \n 7     7 Schindler's List                              Steven Spielberg    \n 8     8 Pulp Fiction                                  Quentin Tarantino   \n 9     9 Lord of the Rings: The Fellowship of the Ring Peter Jackson       \n10    10 The Good, the Bad and the Ugly                Sergio Leone",
    "crumbs": [
      "Uvoz i uređivanje podataka",
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Uređivanje podataka</span>"
    ]
  },
  {
    "objectID": "references.html",
    "href": "references.html",
    "title": "References",
    "section": "",
    "text": "Knuth, Donald E. 1984. “Literate Programming.” Comput.\nJ. 27 (2): 97–111. https://doi.org/10.1093/comjnl/27.2.97.",
    "crumbs": [
      "References"
    ]
  }
]