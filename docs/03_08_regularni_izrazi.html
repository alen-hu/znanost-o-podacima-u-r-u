<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="hr" xml:lang="hr"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.27">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>11&nbsp; Regularni izrazi – Znanost o podacima u R-u</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./03_09_datum_i_vrijeme.html" rel="next">
<link href="./03_07_nizovi.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-ed96de9b727972fe78a7b5d16c58bf87.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-86b712c1a9842e5c5be4cb0afbdd663e.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<style>

      .quarto-title-block .quarto-title-banner h1,
      .quarto-title-block .quarto-title-banner h2,
      .quarto-title-block .quarto-title-banner h3,
      .quarto-title-block .quarto-title-banner h4,
      .quarto-title-block .quarto-title-banner h5,
      .quarto-title-block .quarto-title-banner h6
      {
        color: white;
      }

      .quarto-title-block .quarto-title-banner {
        color: white;
background: #483D8B;
      }
</style>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-sidebar floating quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./03_00_transformacija_podataka.html">Transformacija podataka</a></li><li class="breadcrumb-item"><a href="./03_08_regularni_izrazi.html"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Regularni izrazi</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./03_00_transformacija_podataka.html">Transformacija podataka</a></li><li class="breadcrumb-item"><a href="./03_08_regularni_izrazi.html"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Regularni izrazi</span></a></li></ol></nav>
      <div class="quarto-title-block"><div><h1 class="title"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Regularni izrazi</span></h1><button type="button" class="btn code-tools-button" id="quarto-code-tools-source"><i class="bi"></i> Code</button></div></div>
                      </div>
  </div>
    
  
  <div class="quarto-title-meta">

      
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Znanost o podacima u R-u</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item sidebar-item-section">
      <span class="sidebar-item-text sidebar-link text-start">
 <span class="menu-text">Uvod</span></span>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true">
 <span class="menu-text">Uvod u znanost o podacima</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./01_01_uvod_u_znanost_o_podacima.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Uvod u znanost o podacima</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true">
 <span class="menu-text">Uvoz i uređivanje podataka</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./02_01_uvoz_podataka.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Uvoz podataka u R</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./02_02_uredivanje_podataka.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Uređivanje podataka</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./03_00_transformacija_podataka.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Transformacija podataka</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./dplyr.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">dplyr</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03_01_manipulacija_podacima.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Manipulacija podacima</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03_02_nedostajajuce_vrijednosti.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Nedostajajuće vrijednosti</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03_03_pridruzivanje_podataka.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Pridruživanje podataka</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03_04_brojevi.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Brojevi</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03_05_logicke_vrijednosti.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Logičke vrijednosti</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03_06_faktori.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Faktori</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03_07_nizovi.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Nizovi</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03_08_regularni_izrazi.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Regularni izrazi</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03_09_datum_i_vrijeme.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Datum i vrijeme</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#ključne-funkcije-za-rad-s-regularnim-izrazima" id="toc-ključne-funkcije-za-rad-s-regularnim-izrazima" class="nav-link active" data-scroll-target="#ključne-funkcije-za-rad-s-regularnim-izrazima"><span class="header-section-number">0.1</span> Ključne funkcije za rad s regularnim izrazima</a></li>
  <li><a href="#detalji-uzoraka-u-regularnim-izrazima" id="toc-detalji-uzoraka-u-regularnim-izrazima" class="nav-link" data-scroll-target="#detalji-uzoraka-u-regularnim-izrazima"><span class="header-section-number">0.2</span> Detalji uzoraka u regularnim izrazima</a></li>
  <li><a href="#kontrola-uzoraka-u-regularnim-izrazima" id="toc-kontrola-uzoraka-u-regularnim-izrazima" class="nav-link" data-scroll-target="#kontrola-uzoraka-u-regularnim-izrazima"><span class="header-section-number">0.3</span> Kontrola uzoraka u regularnim izrazima</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">





<p><strong>Regularni izrazi</strong> (<em>regular expressions</em>, <em>regex</em>) su koncizan jezik za opisivanje uzoraka unutar nizova znakova. Funkcioniraju kao formalni jezik koji omogućuje precizno definiranje uzoraka pretraživanja u tekstualnim podacima kroz kombinaciju literalnih znakova i metaznakova. Osnovni elementi regularnih izraza čine literalni znakovi koji se poklapaju s odgovarajućim znakovima u tekstu te metaznakovi koji imaju posebna značenja. Slova i brojevi su literalni znakovi, a većina interpunkcijskih znakova (., +, *, [, ], i ?) ima posebna značenja i pa su oni metaznakovi.</p>
<p>Regularni izrazi predstavljaju nezamjenjiv alat u znanosti o podacima. Prvenstveno, omogućavaju sofisticiranu manipulaciju tekstualnih podataka što je posebno važno u kontekstu nestrukturiranih podataka. Osim toga, u procesu čišćenja podataka regularni izrazi omogućavaju identificiranje i uklanjanje neispravnih ili nepotrebnih dijelova teksta, normalizaciju formata podataka te standardizaciju unosa. Nadalje, regularni izrazi omogućuju ekstrakciju specifičnih informacija iz velikih skupova tekstualnih podataka. Klase znakova su definirane sa <code>[]</code> i omogućavaju poklapanje skupa znakova, a što je korisno za izdvajanje strukturiranih informacija poput datuma, adresa ili identifikacijskih brojeva.</p>
<p>Tekstualni podaci čine značajan dio ukupne količine podataka. Regularni izrazi omogućavaju transformaciju nestrukturiranih tekstualnih podataka u strukturirane formate pogodne za analizu. Ova sposobnost je osobito važna u područjima poput analize sentimenta, obradi prirodnog jezika i analizi teksta.</p>
<p>Regularni izrazi također omogućavaju validaciju podataka kroz definiranje preciznih kriterija za prihvatljive formate unosa. Ovo je posebno važno u fazama prikupljanja i pretprocesiranja podataka gdje je potrebno osigurati konzistentnost i kvalitetu podataka prije početka analize.</p>
<p>Najjednostavniji uzorci se sastoje od slova i brojeva koji se poklapaju točno s tim znakovima. U kontekstu analize Pokémon naziva, ovo znači da možemo tražiti određene Pokémone pomoću jednostavnih literalnih znakova. Na primjer, ako želimo pronaći sve Pokémone čiji naziv sadrži “<em>char</em>”, jednostavno ćemo koristiti uzorak “<em>char</em>” koji će pronaći Pokémone poput Charmander, Charmeleon ili Charizard. Slova i brojevi se poklapaju točno te se nazivaju literalni znakovi. Većina interpunkcijskih znakova ima posebna značenja i nazivaju se metaznakovi. Kada analiziramo Pokémon nazive, posebno je korisno razumjeti da točka (.) kao metaznak može zamijeniti bilo koji znak. Tako uzorak “<code>p.ka</code>” može pronaći “<code>Pika</code>” u nazivu Pikachu.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>pokemon_names <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Pikachu"</span>, <span class="st">"Charmander"</span>, <span class="st">"Charmeleon"</span>, <span class="st">"Charizard"</span>, <span class="st">"Bulbasaur"</span>, <span class="st">"Ivysaur"</span>, <span class="st">"Venusaur"</span>, <span class="st">"Squirtle"</span>, <span class="st">"Wartortle"</span>, <span class="st">"Blastoise"</span>, <span class="st">"Magikarp"</span>, <span class="st">"Gyarados"</span>, <span class="st">"Nidoran"</span>, <span class="st">"Nidoking"</span>, <span class="st">"Nidoqueen"</span>, <span class="st">"Alakazam"</span>, <span class="st">"Abra"</span>, <span class="st">"Kadabra"</span>, <span class="st">"Scyther"</span>, <span class="st">"Scizor"</span>, <span class="st">"Rattata"</span>, <span class="st">"Wigglytuff"</span>, <span class="st">"Jigglypuff"</span>, <span class="st">"Oddish"</span>, <span class="st">"Gloom"</span>)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view</span>(pokemon_names, <span class="st">"Char"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[2] │ &lt;Char&gt;mander
[3] │ &lt;Char&gt;meleon
[4] │ &lt;Char&gt;izard</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view</span>(pokemon_names, <span class="st">"saur"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[5] │ Bulba&lt;saur&gt;
[6] │ Ivy&lt;saur&gt;
[7] │ Venu&lt;saur&gt;</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view</span>(pokemon_names, <span class="st">"P.ka"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] │ &lt;Pika&gt;chu</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view</span>(pokemon_names, <span class="st">"ar.e"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[3] │ Ch&lt;arme&gt;leon</code></pre>
</div>
</div>
<p>Kvantifikatori kontroliraju koliko se puta uzorak može poklapati. U analizi Pokémon naziva, kvantifikatori omogućavaju fleksibilno pretraživanje različitih varijanti. Zato znak upitnik čini uzorak opcijonalnim (tj. poklapaju se 0 ili 1 put). Kod Pokémona, ovo je korisno za pronalaženje naziva koji mogu imati opcijska slova. Na primjer, uzorak “nidos?aur” pronaći će i “Nidosaur” (ako takav postoji) i “Nidosaurus” varijante naziva. Osim toga, on omogućava uzorku ponavljanje (tj. poklapaju se najmanje jednom). Kod analizi Pokémon tipova, uzorak “gras+” može pronaći sve varijante tipa “grass” s jednim ili više slova ‘s’ na kraju. Također, omogućava uzorku biti opcionalan ili se ponavljati (tj. poklapaju se bilo koji broj puta, uključujući 0). Ovo je posebno korisno za pronalaženje Pokémona s varijabilnim brojem određenih slova u nazivu.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view</span>(pokemon_names, <span class="st">"nido(ran)?"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stderr">
<pre><code>✖ Empty `string` provided.</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view</span>(pokemon_names, <span class="st">"t+"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code> [8] │ Squir&lt;t&gt;le
 [9] │ War&lt;t&gt;or&lt;t&gt;le
[10] │ Blas&lt;t&gt;oise
[19] │ Scy&lt;t&gt;her
[21] │ Ra&lt;tt&gt;a&lt;t&gt;a
[22] │ Wiggly&lt;t&gt;uff</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view</span>(pokemon_names, <span class="st">"l+"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code> [3] │ Charme&lt;l&gt;eon
 [5] │ Bu&lt;l&gt;basaur
 [8] │ Squirt&lt;l&gt;e
 [9] │ Wartort&lt;l&gt;e
[10] │ B&lt;l&gt;astoise
[16] │ A&lt;l&gt;akazam
[22] │ Wigg&lt;l&gt;ytuff
[23] │ Jigg&lt;l&gt;ypuff
[25] │ G&lt;l&gt;oom</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view</span>(pokemon_names, <span class="st">"Glo*m"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[25] │ &lt;Gloom&gt;</code></pre>
</div>
</div>
<p>Klase znakova su definirane sa <code>[]</code> i omogućavaju poklapanje skupa znakova, npr. <code>[abcd]</code> se poklapaju s “a”, “b”, “c”, ili “d”. U analizi Pokémon naziva, ovo omogućava traženje naziva koji počinju određenim skupom slova. Na primjer, <code>[PFBSW]</code> može pronaći Pokémone čiji nazivi počinju slovima P (Pikachu), F (Feraligatr), B (Blastoise), S (Squirtle), ili W (Wartortle). Također možete invertirati poklapanje počevši s <code>^</code>: <code>[^abcd]</code> poklapaju sve osim “a”, “b”, “c”, ili “d”. Kod analize Pokémon tipova, možemo koristiti <code>[^FireWater]</code> za pronalaženje svih tipova osim Fire i Water tipova.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Pokémoni koji počinju s određenim slovima</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view</span>(pokemon_names, <span class="st">"^[BCPV]"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] │ &lt;P&gt;ikachu
 [2] │ &lt;C&gt;harmander
 [3] │ &lt;C&gt;harmeleon
 [4] │ &lt;C&gt;harizard
 [5] │ &lt;B&gt;ulbasaur
 [7] │ &lt;V&gt;enusaur
[10] │ &lt;B&gt;lastoise</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Pokémoni koji završavaju samoglasnicima</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view</span>(pokemon_names, <span class="st">"[aeiou]$"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] │ Pikach&lt;u&gt;
 [8] │ Squirtl&lt;e&gt;
 [9] │ Wartortl&lt;e&gt;
[10] │ Blastois&lt;e&gt;
[17] │ Abr&lt;a&gt;
[18] │ Kadabr&lt;a&gt;
[21] │ Rattat&lt;a&gt;</code></pre>
</div>
</div>
<p>Možete koristiti alternaciju <code>|</code> za biranje između jednog ili više alternativnih uzoraka. U kontekstu Pokémon analize, ovo je korisno za traženje različitih tipova ili grupa Pokémona. Na primjer, uzorak <code>"fire|water|grass"</code> može pronaći sve Pokémone osnovnih tipova. Također, uzorci traženja ponavljanih samoglasnika kao što je <code>"aa|ee|ii|oo|uu"</code> mogu biti korisni za pronalaženje Pokémona s karakterističnim duplikovanim slovima u nazivima, poput nekih japanskih naziva koji su transliterirani u engleski jezik.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Dodajemo tipove za demonstraciju</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>pokemon_with_types <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Pikachu Electric"</span>, <span class="st">"Charmander Fire"</span>, <span class="st">"Squirtle Water"</span>, <span class="st">"Bulbasaur Grass Poison"</span>, <span class="st">"Geodude Rock Ground"</span>, <span class="st">"Zubat Poison Flying"</span>)</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Tražimo Pokémone Fire, Water ili Grass tipova</span></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view</span>(pokemon_with_types, <span class="st">"Fire|Water|Grass"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[2] │ Charmander &lt;Fire&gt;
[3] │ Squirtle &lt;Water&gt;
[4] │ Bulbasaur &lt;Grass&gt; Poison</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Tražimo Pokémone s duplikovanim slovima u nazivu</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view</span>(pokemon_names, <span class="st">"([a-z])</span><span class="sc">\\</span><span class="st">1"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[15] │ Nidoqu&lt;ee&gt;n
[21] │ Ra&lt;tt&gt;ata
[22] │ Wi&lt;gg&gt;lytu&lt;ff&gt;
[23] │ Ji&lt;gg&gt;lypu&lt;ff&gt;
[24] │ O&lt;dd&gt;ish
[25] │ Gl&lt;oo&gt;m</code></pre>
</div>
</div>
<p>Regularni izrazi su vrlo kompaktni i koriste mnogo interpunkcijskih znakova pa mogu djelovati zastrašujuće i teški za čitanje, no kada se primjenjuju na konkretan skup podataka poput Pokémon naziva i tipova, njihova praktička korist postaje jasnija. U praktičnoj primjeni na Pokémon podacima, ovi osnovni uzorci omogućavaju efikasno kategoriziranje Pokémona prema različitim kriterijima, analizu obrazaca u imenima te pripremu podataka za dublju analizu performansi i karakteristika različitih grupa Pokémona.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Simuliramo Pokémon podatke s HP vrijednostima</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>pokemon_stats <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Pikachu HP:35"</span>, <span class="st">"Charizard HP:78"</span>, <span class="st">"Blastoise HP:79"</span>, <span class="st">"Venusaur HP:80"</span>, <span class="st">"Alakazam HP:55"</span>, <span class="st">"Machamp HP:90"</span>)</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Tražimo Pokémone s HP između 70-89</span></span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view</span>(pokemon_stats, <span class="st">"HP:[7-8][0-9]"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[2] │ Charizard &lt;HP:78&gt;
[3] │ Blastoise &lt;HP:79&gt;
[4] │ Venusaur &lt;HP:80&gt;</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Tražimo sve HP vrijednosti</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view</span>(pokemon_stats, <span class="st">"HP:[0-9]+"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] │ Pikachu &lt;HP:35&gt;
[2] │ Charizard &lt;HP:78&gt;
[3] │ Blastoise &lt;HP:79&gt;
[4] │ Venusaur &lt;HP:80&gt;
[5] │ Alakazam &lt;HP:55&gt;
[6] │ Machamp &lt;HP:90&gt;</code></pre>
</div>
</div>
<section id="ključne-funkcije-za-rad-s-regularnim-izrazima" class="level3" data-number="0.1">
<h3 data-number="0.1" class="anchored" data-anchor-id="ključne-funkcije-za-rad-s-regularnim-izrazima"><span class="header-section-number">0.1</span> Ključne funkcije za rad s regularnim izrazima</h3>
<p><strong>Detektiranje poklapanja</strong></p>
<p><code>str_detect()</code> vraća logički vektor koji je <code>TRUE</code> ako se uzorak poklapa s elementom znakovna vektora i <code>FALSE</code> inače. Budući da <code>str_detect()</code> vraća logički vektor iste duljine kao početni vektor, funkcija dobro se uparuje s filter() glagolom iz <code>dplyr</code> paketa. Također možemo koristiti <code>str_detect()</code> s <code>summarize()</code> koji daje izračun broja opažanja koja se poklapaju ili <code>mean()</code> koja govori udio koji se poklapa.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Stvaramo vektor Pokémon naziva</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>pokemon_names <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Pikachu"</span>, <span class="st">"Charmander"</span>, <span class="st">"Charmeleon"</span>, <span class="st">"Charizard"</span>, <span class="st">"Bulbasaur"</span>, <span class="st">"Ivysaur"</span>, <span class="st">"Venusaur"</span>, <span class="st">"Squirtle"</span>, <span class="st">"Wartortle"</span>, <span class="st">"Blastoise"</span>)</span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Detektiramo koji Pokémoni sadrže "char"</span></span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a><span class="fu">str_detect</span>(pokemon_names, <span class="st">"char"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Koji Pokémoni završavaju sa "saur"</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str_detect</span>(pokemon_names, <span class="st">"saur$"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] FALSE FALSE FALSE FALSE  TRUE  TRUE  TRUE FALSE FALSE FALSE</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Stvaramo Pokémon data frame</span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>pokemon_data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">name =</span> <span class="fu">c</span>(<span class="st">"Pikachu"</span>, <span class="st">"Raichu"</span>, <span class="st">"Charmander"</span>, <span class="st">"Charmeleon"</span>, <span class="st">"Charizard"</span>, <span class="st">"Alakazam"</span>, <span class="st">"Machamp"</span>, <span class="st">"Gyarados"</span>, <span class="st">"Dragonite"</span>, <span class="st">"Mewtwo"</span>),</span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">type =</span> <span class="fu">c</span>(<span class="st">"Electric"</span>, <span class="st">"Electric"</span>, <span class="st">"Fire"</span>, <span class="st">"Fire"</span>, <span class="st">"Fire"</span>, <span class="st">"Psychic"</span>, <span class="st">"Fighting"</span>, <span class="st">"Water"</span>, <span class="st">"Dragon"</span>, <span class="st">"Psychic"</span>),</span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">generation =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>)</span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb33-8"><a href="#cb33-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-9"><a href="#cb33-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Pronalazimo sve Pokémone koji sadrže slovo "a"</span></span>
<span id="cb33-10"><a href="#cb33-10" aria-hidden="true" tabindex="-1"></a>pokemon_data <span class="sc">|&gt;</span></span>
<span id="cb33-11"><a href="#cb33-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">str_detect</span>(name, <span class="st">"a"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb33-12"><a href="#cb33-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(name, <span class="at">sort =</span> <span class="cn">TRUE</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>        name n
1   Alakazam 1
2  Charizard 1
3 Charmander 1
4 Charmeleon 1
5  Dragonite 1
6   Gyarados 1
7    Machamp 1
8    Pikachu 1
9     Raichu 1</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Dodajemo više Pokémon generacija</span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>pokemon_extended <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">name =</span> <span class="fu">c</span>(<span class="st">"Pikachu"</span>, <span class="st">"Charmander"</span>, <span class="st">"Alakazam"</span>, <span class="st">"Dragonite"</span>, <span class="st">"Chikorita"</span>, <span class="st">"Cyndaquil"</span>, <span class="st">"Totodile"</span>, <span class="st">"Lugia"</span>),</span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">generation =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">2</span>, <span class="dv">2</span>, <span class="dv">2</span>)</span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-7"><a href="#cb35-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Analiziramo udio Pokémona koji sadrže "a" po generacijama</span></span>
<span id="cb35-8"><a href="#cb35-8" aria-hidden="true" tabindex="-1"></a>pokemon_extended <span class="sc">|&gt;</span></span>
<span id="cb35-9"><a href="#cb35-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(generation) <span class="sc">|&gt;</span></span>
<span id="cb35-10"><a href="#cb35-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(</span>
<span id="cb35-11"><a href="#cb35-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">total_pokemon =</span> <span class="fu">n</span>(),</span>
<span id="cb35-12"><a href="#cb35-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">with_a =</span> <span class="fu">sum</span>(<span class="fu">str_detect</span>(name, <span class="st">"a"</span>)),</span>
<span id="cb35-13"><a href="#cb35-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">proportion_with_a =</span> <span class="fu">mean</span>(<span class="fu">str_detect</span>(name, <span class="st">"a"</span>))</span>
<span id="cb35-14"><a href="#cb35-14" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 4
  generation total_pokemon with_a proportion_with_a
       &lt;dbl&gt;         &lt;int&gt;  &lt;int&gt;             &lt;dbl&gt;
1          1             4      4              1   
2          2             4      3              0.75</code></pre>
</div>
</div>
<p>Postoje dvije funkcije koje su usko povezane s <code>str_detect()</code>, <code>str_subset()</code> i <code>str_which()</code>. <code>str_subset()</code> vraća znakovni vektor koji sadrži samo nizove koji se poklapaju, a <code>str_which()</code> vraća cjelobrojni vektor koji daje pozicije nizova koji se poklapaju.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="co"># str_subset() - vraća samo Pokémone s "char"</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str_subset</span>(pokemon_names, <span class="st">"char"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>character(0)</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="co"># str_which() - vraća pozicije Pokémona s "char"</span></span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str_which</span>(pokemon_names, <span class="st">"char"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>integer(0)</code></pre>
</div>
</div>
<p><strong>Brojanje poklapanja</strong></p>
<p>Sljedeći korak je brojanje poklapanja funkcijom <code>str_count()</code> koja umjesto <code>TRUE</code> ili <code>FALSE</code>, govori koliko je poklapanja u svakom nizu.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Brojimo koliko puta se pojavljuje slovo "a" u Pokémon nazivima</span></span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str_count</span>(pokemon_names, <span class="st">"a"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 1 2 1 2 2 1 1 0 1 1</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Pokémoni s ponavljajućim slovima</span></span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a>pokemon_repeats <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Rattata"</span>, <span class="st">"Wigglytuff"</span>, <span class="st">"Jigglypuff"</span>, <span class="st">"Oddish"</span>, <span class="st">"Seel"</span>)</span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a><span class="fu">str_count</span>(pokemon_repeats, <span class="st">"l"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0 1 1 0 1</code></pre>
</div>
</div>
<p>Važno je napomenuti da se svako poklapanje počinje na kraju prethodnog poklapanja, tj. regex poklapanja se nikad ne preklapaju. Na primjer, u “abababa”, koliko će se puta poklopiti uzorak “aba”? Regularni izrazi kažu dva, ne tri.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Demonstracija s Pokémon nazivom</span></span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str_count</span>(<span class="st">"Rattata"</span>, <span class="st">"tat"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1</code></pre>
</div>
</div>
<p>Prirodno je koristiti <code>str_count()</code> s <code>mutate()</code>. Sljedeći primjer koristi klase znakova za brojanje samoglasnika i suglasnika u svakom naziv.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Analiziramo samoglasnike i suglasnike u Pokémon nazivima</span></span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>pokemon_data <span class="sc">|&gt;</span></span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">vowels =</span> <span class="fu">str_count</span>(<span class="fu">str_to_lower</span>(name), <span class="st">"[aeiou]"</span>),</span>
<span id="cb47-5"><a href="#cb47-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">consonants =</span> <span class="fu">str_count</span>(<span class="fu">str_to_lower</span>(name), <span class="st">"[^aeiou]"</span>)</span>
<span id="cb47-6"><a href="#cb47-6" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb47-7"><a href="#cb47-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(name, vowels, consonants)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>         name vowels consonants
1     Pikachu      3          4
2      Raichu      3          3
3  Charmander      3          7
4  Charmeleon      4          6
5   Charizard      3          6
6    Alakazam      4          4
7     Machamp      2          5
8    Gyarados      3          5
9   Dragonite      4          5
10     Mewtwo      2          4</code></pre>
</div>
</div>
<p><strong>Zamjena vrijednosti</strong></p>
<p>Regularne izraze možemo modificirati s funkcijom <code>str_replace()</code> i <code>str_replace_all()</code>. <code>str_replace()</code> zamjenjuje samo prvo poklapanje, a <code>str_replace_all()</code> zamjenjuje sva poklapanja prema nekom kriteriju.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Zamjenjujemo "char" s "flame" u Pokémon nazivima</span></span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str_replace</span>(pokemon_names, <span class="st">"[Cc]har"</span>, <span class="st">"Flame"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "Pikachu"     "Flamemander" "Flamemeleon" "Flameizard"  "Bulbasaur"  
 [6] "Ivysaur"     "Venusaur"    "Squirtle"    "Wartortle"   "Blastoise"  </code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Uklanjamo sve samoglasnike iz naziva</span></span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str_replace_all</span>(pokemon_names, <span class="st">"[aeiou]"</span>, <span class="st">""</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "Pkch"    "Chrmndr" "Chrmln"  "Chrzrd"  "Blbsr"   "Ivysr"   "Vnsr"   
 [8] "Sqrtl"   "Wrtrtl"  "Blsts"  </code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Uklanjamo "char" iz naziva</span></span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str_remove</span>(pokemon_names, <span class="st">"[Cc]har"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "Pikachu"   "mander"    "meleon"    "izard"     "Bulbasaur" "Ivysaur"  
 [7] "Venusaur"  "Squirtle"  "Wartortle" "Blastoise"</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Čišćenje Pokémon tipova s nekonzistentnim formatiranjem</span></span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a>pokemon_types <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Electric-type"</span>, <span class="st">"Fire/Flying"</span>, <span class="st">"Grass &amp; Poison"</span>, <span class="st">"Water_type"</span>)</span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a>pokemon_types <span class="sc">|&gt;</span></span>
<span id="cb55-4"><a href="#cb55-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_remove_all</span>(<span class="st">"-type|_type"</span>) <span class="sc">|&gt;</span></span>
<span id="cb55-5"><a href="#cb55-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_replace_all</span>(<span class="st">"[&amp;/]"</span>, <span class="st">" "</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Electric"       "Fire Flying"    "Grass   Poison" "Water"         </code></pre>
</div>
</div>
<p><strong>Ekstraktiranje varijabli</strong></p>
<p>Posljednja funkcija ove skupine je <code>separate_wider_regex()</code> koja koristi regularne izraze za ekstraktiranje podataka iz jednog stupca u jedan ili više novih stupaca.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Složeni Pokémon podaci u jednom stupcu</span></span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a>pokemon_complex <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">pokemon_info =</span> <span class="fu">c</span>(</span>
<span id="cb57-4"><a href="#cb57-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">"&lt;Pikachu&gt;-E_025"</span>,</span>
<span id="cb57-5"><a href="#cb57-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">"&lt;Charmander&gt;-F_004"</span>,</span>
<span id="cb57-6"><a href="#cb57-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">"&lt;Bulbasaur&gt;-G_001"</span>,</span>
<span id="cb57-7"><a href="#cb57-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">"&lt;Squirtle&gt;-W_007"</span></span>
<span id="cb57-8"><a href="#cb57-8" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb57-9"><a href="#cb57-9" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb57-10"><a href="#cb57-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-11"><a href="#cb57-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Ekstraktiramo komponente koristeći separate_wider_regex()</span></span>
<span id="cb57-12"><a href="#cb57-12" aria-hidden="true" tabindex="-1"></a>pokemon_complex <span class="sc">|&gt;</span></span>
<span id="cb57-13"><a href="#cb57-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">separate_wider_regex</span>(</span>
<span id="cb57-14"><a href="#cb57-14" aria-hidden="true" tabindex="-1"></a>    pokemon_info,</span>
<span id="cb57-15"><a href="#cb57-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">patterns =</span> <span class="fu">c</span>(</span>
<span id="cb57-16"><a href="#cb57-16" aria-hidden="true" tabindex="-1"></a>      <span class="st">"&lt;"</span>,</span>
<span id="cb57-17"><a href="#cb57-17" aria-hidden="true" tabindex="-1"></a>      <span class="at">name =</span> <span class="st">"[A-Za-z]+"</span>,</span>
<span id="cb57-18"><a href="#cb57-18" aria-hidden="true" tabindex="-1"></a>      <span class="st">"&gt;-"</span>,</span>
<span id="cb57-19"><a href="#cb57-19" aria-hidden="true" tabindex="-1"></a>      <span class="at">type_code =</span> <span class="st">"."</span>,</span>
<span id="cb57-20"><a href="#cb57-20" aria-hidden="true" tabindex="-1"></a>      <span class="st">"_"</span>,</span>
<span id="cb57-21"><a href="#cb57-21" aria-hidden="true" tabindex="-1"></a>      <span class="at">pokedex_number =</span> <span class="st">"[0-9]+"</span></span>
<span id="cb57-22"><a href="#cb57-22" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb57-23"><a href="#cb57-23" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 3
  name       type_code pokedex_number
  &lt;chr&gt;      &lt;chr&gt;     &lt;chr&gt;         
1 Pikachu    E         025           
2 Charmander F         004           
3 Bulbasaur  G         001           
4 Squirtle   W         007           </code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb59"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Pokémon podaci s miješanim formatom borbi</span></span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a>pokemon_battle_data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb59-3"><a href="#cb59-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">battle_info =</span> <span class="fu">c</span>(</span>
<span id="cb59-4"><a href="#cb59-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Pikachu HP:35 ATK:55 won"</span>,</span>
<span id="cb59-5"><a href="#cb59-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Charizard HP:78 ATK:84 lost"</span>,</span>
<span id="cb59-6"><a href="#cb59-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Blastoise HP:79 ATK:83 won"</span></span>
<span id="cb59-7"><a href="#cb59-7" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb59-8"><a href="#cb59-8" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb59-9"><a href="#cb59-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-10"><a href="#cb59-10" aria-hidden="true" tabindex="-1"></a>pokemon_battle_data <span class="sc">|&gt;</span></span>
<span id="cb59-11"><a href="#cb59-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">separate_wider_regex</span>(</span>
<span id="cb59-12"><a href="#cb59-12" aria-hidden="true" tabindex="-1"></a>    battle_info,</span>
<span id="cb59-13"><a href="#cb59-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">patterns =</span> <span class="fu">c</span>(</span>
<span id="cb59-14"><a href="#cb59-14" aria-hidden="true" tabindex="-1"></a>      <span class="at">name =</span> <span class="st">"[A-Za-z]+"</span>, <span class="st">" HP:"</span>,</span>
<span id="cb59-15"><a href="#cb59-15" aria-hidden="true" tabindex="-1"></a>      <span class="at">hp =</span> <span class="st">"[0-9]+"</span>, <span class="st">" ATK:"</span>,</span>
<span id="cb59-16"><a href="#cb59-16" aria-hidden="true" tabindex="-1"></a>      <span class="at">attack =</span> <span class="st">"[0-9]+"</span>, <span class="st">" "</span>,</span>
<span id="cb59-17"><a href="#cb59-17" aria-hidden="true" tabindex="-1"></a>      <span class="at">result =</span> <span class="st">"[a-z]+"</span></span>
<span id="cb59-18"><a href="#cb59-18" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb59-19"><a href="#cb59-19" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 4
  name      hp    attack result
  &lt;chr&gt;     &lt;chr&gt; &lt;chr&gt;  &lt;chr&gt; 
1 Pikachu   35    55     won   
2 Charizard 78    84     lost  
3 Blastoise 79    83     won   </code></pre>
</div>
</div>
</section>
<section id="detalji-uzoraka-u-regularnim-izrazima" class="level3" data-number="0.2">
<h3 data-number="0.2" class="anchored" data-anchor-id="detalji-uzoraka-u-regularnim-izrazima"><span class="header-section-number">0.2</span> Detalji uzoraka u regularnim izrazima</h3>
<p>Drugi dio bavljenja regularnim izrazima je ulazak u detalje regularnih izraza. To uključuje escaping koji omogućava poklapanje metaznakova koji bi inače bili tretirani posebno, anchore koji omogućavaju poklapanje početka ili kraja niza, klasame znakova i njihove prečace koji omogućavaju poklapanje bilo kojeg znaka iz skupa, detalje kvantifikatora koji kontroliraju koliko se puta uzorak može poklapati te prioritete operatora i zagrada.</p>
<p><strong>Escaping</strong></p>
<p>Da biste se poklopili s literalnom točkom (.), trebate escape koji govori regularnom izrazu da se poklopi s metaznakovima doslovno. Kao i nizovi, regexovi koriste backslash za escaping. Dakle, da se poklopite s točkom, trebate regex. Nažalost, ovo stvara problem. Koristimo nizove za predstavljanje regularnih izraza, a &nbsp;se također koristi kao escape simbol u nizovima. Dakle, da biste stvorili regularni izraz <code>.</code>, trebate niz <code>"\."</code>.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb61"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Pokémon nazivi s točkama (često kod skraćenica)</span></span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a>pokemon_with_dots <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Mr. Mime"</span>, <span class="st">"Mime Jr."</span>, <span class="st">"Type: Null"</span>, <span class="st">"Farfetch'd"</span>, <span class="st">"Ho-Oh"</span>)</span>
<span id="cb61-3"><a href="#cb61-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-4"><a href="#cb61-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Pogrešno - traži bilo koji znak umjesto točke</span></span>
<span id="cb61-5"><a href="#cb61-5" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view</span>(pokemon_with_dots, <span class="st">"."</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] │ &lt;M&gt;&lt;r&gt;&lt;.&gt;&lt; &gt;&lt;M&gt;&lt;i&gt;&lt;m&gt;&lt;e&gt;
[2] │ &lt;M&gt;&lt;i&gt;&lt;m&gt;&lt;e&gt;&lt; &gt;&lt;J&gt;&lt;r&gt;&lt;.&gt;
[3] │ &lt;T&gt;&lt;y&gt;&lt;p&gt;&lt;e&gt;&lt;:&gt;&lt; &gt;&lt;N&gt;&lt;u&gt;&lt;l&gt;&lt;l&gt;
[4] │ &lt;F&gt;&lt;a&gt;&lt;r&gt;&lt;f&gt;&lt;e&gt;&lt;t&gt;&lt;c&gt;&lt;h&gt;&lt;'&gt;&lt;d&gt;
[5] │ &lt;H&gt;&lt;o&gt;&lt;-&gt;&lt;O&gt;&lt;h&gt;</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb63"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Ispravno - traži literalnu točku</span></span>
<span id="cb63-2"><a href="#cb63-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view</span>(pokemon_with_dots, <span class="st">"</span><span class="sc">\\</span><span class="st">."</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] │ Mr&lt;.&gt; Mime
[2] │ Mime Jr&lt;.&gt;</code></pre>
</div>
</div>
<p>Ako <code>\</code> se koristi kao escape znak u regularnim izrazima, kako se poklapate s literalnim? Pa, morate ga escapati, stvarajući regularni izraz <code>\</code>. Da biste stvorili taj regularni izraz, morate koristiti niz koji također mora escapati. To znači da se za poklapanje s literalnim <code>\</code> morate napisati <code>"\\"</code>.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb65"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Pokémon putanje s backslash znakovima (hipotetski primjer)</span></span>
<span id="cb65-2"><a href="#cb65-2" aria-hidden="true" tabindex="-1"></a>pokemon_paths <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"data</span><span class="sc">\\</span><span class="st">pokemon</span><span class="sc">\\</span><span class="st">pikachu.txt"</span>, <span class="st">"stats</span><span class="sc">\\</span><span class="st">charizard.csv"</span>)</span>
<span id="cb65-3"><a href="#cb65-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-4"><a href="#cb65-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Tražimo literalni backslash</span></span>
<span id="cb65-5"><a href="#cb65-5" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view</span>(pokemon_paths, <span class="st">"</span><span class="sc">\\\\</span><span class="st">"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] │ data&lt;\&gt;pokemon&lt;\&gt;pikachu.txt
[2] │ stats&lt;\&gt;charizard.csv</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb67"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Pokémon nazivi s različitim interpunkcijskim znakovima</span></span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a>pokemon_punctuation <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Ho-Oh"</span>, <span class="st">"Porygon-Z"</span>, <span class="st">"Type: Null"</span>, <span class="st">"Mr. Mime"</span>, <span class="st">"Nidoran♂"</span>)</span>
<span id="cb67-3"><a href="#cb67-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-4"><a href="#cb67-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Tražimo dvotočku koristeći klasu znakova</span></span>
<span id="cb67-5"><a href="#cb67-5" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view</span>(pokemon_punctuation, <span class="st">"[:]"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[3] │ Type&lt;:&gt; Null</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb69"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Tražimo crticu</span></span>
<span id="cb69-2"><a href="#cb69-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view</span>(pokemon_punctuation, <span class="st">"[-]"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] │ Ho&lt;-&gt;Oh
[2] │ Porygon&lt;-&gt;Z</code></pre>
</div>
</div>
<p><strong>Anchori</strong></p>
<p>Po defaultu, regularni izrazi će se poklopiti s bilo kojim dijelom niza. Ako se želite poklopiti na početku ili kraju, trebate usiditi regularni izraz koristeći <code>^</code> za poklapanje početka ili <code>$</code> za poklapanje kraja, a da biste prisilili regularni izraz da se poklopi samo s cijelim nizom, usidriti ga s <code>^</code> i <code>$</code>.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb71"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a>pokemon_names <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Pikachu"</span>, <span class="st">"Raichu"</span>, <span class="st">"Machamp"</span>, <span class="st">"Machoke"</span>, <span class="st">"Machop"</span>)</span>
<span id="cb71-2"><a href="#cb71-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-3"><a href="#cb71-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Pokémoni koji počinju s "Pika"</span></span>
<span id="cb71-4"><a href="#cb71-4" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view</span>(pokemon_names, <span class="st">"^Pika"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] │ &lt;Pika&gt;chu</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb73"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Pokémoni koji završavaju s "chu"</span></span>
<span id="cb73-2"><a href="#cb73-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view</span>(pokemon_names, <span class="st">"chu$"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] │ Pika&lt;chu&gt;
[2] │ Rai&lt;chu&gt;</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb75"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Točno "Pikachu", ne dio naziva</span></span>
<span id="cb75-2"><a href="#cb75-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view</span>(pokemon_names, <span class="st">"^Pikachu$"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] │ &lt;Pikachu&gt;</code></pre>
</div>
</div>
<p>Također se možete poklopiti s granicom između riječi (tj. početak ili kraj riječi) s <code>\b</code>. Ovo može biti posebno korisno pri korištenju alata za pronalaženje i zamjenu.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb77"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Evolucijska linija Machamp obitelji</span></span>
<span id="cb77-2"><a href="#cb77-2" aria-hidden="true" tabindex="-1"></a>machamp_family <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Machop"</span>, <span class="st">"Machoke"</span>, <span class="st">"Machamp"</span>, <span class="st">"Supermachamp"</span>)</span>
<span id="cb77-3"><a href="#cb77-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb77-4"><a href="#cb77-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Tražimo točno "Mach" na početku riječi</span></span>
<span id="cb77-5"><a href="#cb77-5" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view</span>(machamp_family, <span class="st">"</span><span class="sc">\\</span><span class="st">bMach</span><span class="sc">\\</span><span class="st">b"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stderr">
<pre><code>✖ Empty `string` provided.</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb79"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Tražimo "Machop" kao potpunu riječ</span></span>
<span id="cb79-2"><a href="#cb79-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view</span>(machamp_family, <span class="st">"</span><span class="sc">\\</span><span class="st">bMachop</span><span class="sc">\\</span><span class="st">b"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] │ &lt;Machop&gt;</code></pre>
</div>
</div>
<p><strong>Klase znakova</strong></p>
<p>Klasa znakova, ili skup znakova, omogućava poklapanje bilo kojeg znaka u skupu. Možete konstruirati vlastite skupove s <code>[]</code> gdje <code>[abc]</code> poklapaju “a”, “b” ili “c” i <code>[^abc]</code> poklapaju bilo koji znak osim “a”, “b” ili “c”.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb81"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Pokémoni čiji nazivi počinju određenim slovima</span></span>
<span id="cb81-2"><a href="#cb81-2" aria-hidden="true" tabindex="-1"></a>pokemon_starters <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Bulbasaur"</span>, <span class="st">"Charmander"</span>, <span class="st">"Squirtle"</span>, <span class="st">"Pikachu"</span>, <span class="st">"Eevee"</span>)</span>
<span id="cb81-3"><a href="#cb81-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-4"><a href="#cb81-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Pokémoni koji počinju samoglasnicima</span></span>
<span id="cb81-5"><a href="#cb81-5" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view</span>(pokemon_starters, <span class="st">"^[AEIOU]"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[5] │ &lt;E&gt;evee</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb83"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Pokémoni koji ne počinju samoglasnicima</span></span>
<span id="cb83-2"><a href="#cb83-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view</span>(pokemon_starters, <span class="st">"^[^AEIOU]"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] │ &lt;B&gt;ulbasaur
[2] │ &lt;C&gt;harmander
[3] │ &lt;S&gt;quirtle
[4] │ &lt;P&gt;ikachu</code></pre>
</div>
</div>
<p>Osim <code>^</code> postoje dva druga znaka koja imaju posebno značenje unutar <code>[]</code>:</p>
<ul>
<li><p><code>-</code> koji definira raspon, npr., <code>[a-z]</code> poklapaju bilo koje malo slovo i <code>[0-9]</code> poklapaju bilo koji broj.</p></li>
<li><p><code>\</code> escapira posebne znakove, tako da <code>[^-]]</code> poklapaju <code>^</code>, <code>-</code> ili <code>]</code>.</p></li>
</ul>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb85"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Pokémoni s brojevima u nazivu (Gen VII+)</span></span>
<span id="cb85-2"><a href="#cb85-2" aria-hidden="true" tabindex="-1"></a>pokemon_with_numbers <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Type: Null"</span>, <span class="st">"Silvally"</span>, <span class="st">"UB-01"</span>, <span class="st">"UB-02"</span>, <span class="st">"Porygon-Z"</span>)</span>
<span id="cb85-3"><a href="#cb85-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-4"><a href="#cb85-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Tražimo Pokémone s brojevima</span></span>
<span id="cb85-5"><a href="#cb85-5" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view</span>(pokemon_with_numbers, <span class="st">"[0-9]"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[3] │ UB-&lt;0&gt;&lt;1&gt;
[4] │ UB-&lt;0&gt;&lt;2&gt;</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb87"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb87-1"><a href="#cb87-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Pokémon nazivi s crticama</span></span>
<span id="cb87-2"><a href="#cb87-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view</span>(pokemon_with_numbers, <span class="st">"[</span><span class="sc">\\</span><span class="st">-]"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[3] │ UB&lt;-&gt;01
[4] │ UB&lt;-&gt;02
[5] │ Porygon&lt;-&gt;Z</code></pre>
</div>
</div>
<p>Neke klase znakova se koriste tako često da dobivaju vlastite prečace. Već ste vidjeli <code>.</code> koji poklapaju bilo koji znak osim newline. Postoje tri druga posebno korisna para:</p>
<ul>
<li><p><code>\d</code> poklapaju bilo koji broj i <code>\D</code> poklapaju sve što nije broj.</p></li>
<li><p><code>\s</code> poklapaju bilo koji whitespace i <code>\S</code> poklapaju sve što nije whitespace.</p></li>
<li><p><code>\w</code> poklapaju bilo koji “word” znak, tj. slova i brojevi i <code>\W</code> poklapaju bilo koji “non-word” znak.</p></li>
</ul>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb89"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb89-1"><a href="#cb89-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Pokémon podaci s miješanim formatom</span></span>
<span id="cb89-2"><a href="#cb89-2" aria-hidden="true" tabindex="-1"></a>pokemon_data_mixed <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Pikachu Lv25"</span>, <span class="st">"Charizard HP78"</span>, <span class="st">"Mewtwo Lv100"</span>, <span class="st">"Mew HP200"</span>)</span>
<span id="cb89-3"><a href="#cb89-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb89-4"><a href="#cb89-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Tražimo brojeve (leveli i HP)</span></span>
<span id="cb89-5"><a href="#cb89-5" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view</span>(pokemon_data_mixed, <span class="st">"</span><span class="sc">\\</span><span class="st">d+"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] │ Pikachu Lv&lt;25&gt;
[2] │ Charizard HP&lt;78&gt;
[3] │ Mewtwo Lv&lt;100&gt;
[4] │ Mew HP&lt;200&gt;</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb91"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb91-1"><a href="#cb91-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Tražimo slova (nazivi Pokémona)</span></span>
<span id="cb91-2"><a href="#cb91-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view</span>(pokemon_data_mixed, <span class="st">"</span><span class="sc">\\</span><span class="st">w+"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] │ &lt;Pikachu&gt; &lt;Lv25&gt;
[2] │ &lt;Charizard&gt; &lt;HP78&gt;
[3] │ &lt;Mewtwo&gt; &lt;Lv100&gt;
[4] │ &lt;Mew&gt; &lt;HP200&gt;</code></pre>
</div>
</div>
<p><strong>Kvantifikatori</strong></p>
<p>Kvantifikatori kontroliraju koliko se puta uzorak poklapaju. U ranijim odjeljcima naučili ste <code>o</code> ? (0 ili 1 poklapanja), <code>+</code> (1 ili više poklapanja) i <code>*</code> (0 ili više poklapanja). Također možete precizno specificirati broj poklapanja s <code>{}</code>.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb93"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb93-1"><a href="#cb93-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Pokémon nazivi različitih duljina</span></span>
<span id="cb93-2"><a href="#cb93-2" aria-hidden="true" tabindex="-1"></a>pokemon_lengths <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Mew"</span>, <span class="st">"Alakazam"</span>, <span class="st">"Ho-Oh"</span>, <span class="st">"Articuno"</span>, <span class="st">"Zapdos"</span>)</span>
<span id="cb93-3"><a href="#cb93-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb93-4"><a href="#cb93-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Točno 3 znaka</span></span>
<span id="cb93-5"><a href="#cb93-5" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view</span>(pokemon_lengths, <span class="st">"^</span><span class="sc">\\</span><span class="st">w{3}$"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] │ &lt;Mew&gt;</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb95"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb95-1"><a href="#cb95-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Između 5 i 7 znakova</span></span>
<span id="cb95-2"><a href="#cb95-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view</span>(pokemon_lengths, <span class="st">"^</span><span class="sc">\\</span><span class="st">w{5,7}$"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[5] │ &lt;Zapdos&gt;</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb97"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb97-1"><a href="#cb97-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 5 ili više znakova</span></span>
<span id="cb97-2"><a href="#cb97-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view</span>(pokemon_lengths, <span class="st">"^</span><span class="sc">\\</span><span class="st">w{5,}$"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[2] │ &lt;Alakazam&gt;
[4] │ &lt;Articuno&gt;
[5] │ &lt;Zapdos&gt;</code></pre>
</div>
</div>
<p><strong>Prioritet operatora i zagrade</strong></p>
<p>Što poklapaju ab+? Poklapaju li “a” praćen jednim ili više “b” ili poklapaju “ab” ponovljen bilo koji broj puta? Što poklapaju ^a|b$? Poklapaju li cijeli niz a ili cijeli niz b, ili poklapaju niz koji počinje s a ili niz koji završava s b? Kao i algebra, možete koristiti zagrade za prebrisavanje uobičajenog reda. Ali za razliku od algebre, vjerojatno nećete pamtiti pravila prioriteta za regexove, pa slobodno koristite zagrade liberalno.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb99"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb99-1"><a href="#cb99-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Pokémon nazivi za testiranje prioriteta</span></span>
<span id="cb99-2"><a href="#cb99-2" aria-hidden="true" tabindex="-1"></a>pokemon_test <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Pikachu"</span>, <span class="st">"Pikablu"</span>, <span class="st">"Raichu"</span>, <span class="st">"Raiblu"</span>, <span class="st">"Pika"</span>, <span class="st">"Rai"</span>)</span>
<span id="cb99-3"><a href="#cb99-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb99-4"><a href="#cb99-4" aria-hidden="true" tabindex="-1"></a><span class="co"># ab+ znači a(b+), ne (ab)+</span></span>
<span id="cb99-5"><a href="#cb99-5" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view</span>(pokemon_test, <span class="st">"Pika+"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] │ &lt;Pika&gt;chu
[2] │ &lt;Pika&gt;blu
[5] │ &lt;Pika&gt;</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb101"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb101-1"><a href="#cb101-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Za (ab)+ trebate zagrade</span></span>
<span id="cb101-2"><a href="#cb101-2" aria-hidden="true" tabindex="-1"></a>pokemon_repeat <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Pikapika"</span>, <span class="st">"Rairai"</span>, <span class="st">"Pikablu"</span>)</span>
<span id="cb101-3"><a href="#cb101-3" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view</span>(pokemon_repeat, <span class="st">"(Pika)+"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] │ &lt;Pika&gt;pika
[3] │ &lt;Pika&gt;blu</code></pre>
</div>
</div>
<p><strong>Grupiranje i hvatanje</strong></p>
<p>Osim prebrisavanja prioriteta operatora, zagrade imaju još jedan važan učinak - stvaraju grupe za hvatanje koje omogućavaju korištenje pod-komponenti poklapanja.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb103"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb103-1"><a href="#cb103-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Pokémoni s ponavljajućim parovima slova</span></span>
<span id="cb103-2"><a href="#cb103-2" aria-hidden="true" tabindex="-1"></a>pokemon_pairs <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Rattata"</span>, <span class="st">"Diglett"</span>, <span class="st">"Seel"</span>, <span class="st">"Koffing"</span>)</span>
<span id="cb103-3"><a href="#cb103-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-4"><a href="#cb103-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Tražimo ponavljajuće parove slova koristeći backreference</span></span>
<span id="cb103-5"><a href="#cb103-5" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view</span>(pokemon_pairs, <span class="st">"(..)</span><span class="sc">\\</span><span class="st">1"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] │ Rat&lt;tata&gt;</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb105"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb105-1"><a href="#cb105-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Pokémoni koji počinju i završavaju istim parom</span></span>
<span id="cb105-2"><a href="#cb105-2" aria-hidden="true" tabindex="-1"></a>pokemon_palindrome <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Rotom"</span>, <span class="st">"Girafarig"</span>, <span class="st">"Ho-Oh"</span>)</span>
<span id="cb105-3"><a href="#cb105-3" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view</span>(pokemon_palindrome, <span class="st">"^(..).*</span><span class="sc">\\</span><span class="st">1$"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stderr">
<pre><code>✖ Empty `string` provided.</code></pre>
</div>
</div>
<p>Također možete koristiti back reference u <code>str_replace()</code>. Na primjer, ovaj kod mijenja redoslijed drugog i trećeg riječi.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb107"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb107-1"><a href="#cb107-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Pokémon evolucijske linije</span></span>
<span id="cb107-2"><a href="#cb107-2" aria-hidden="true" tabindex="-1"></a>evolution_lines <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb107-3"><a href="#cb107-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Bulbasaur evolves into Ivysaur"</span>,</span>
<span id="cb107-4"><a href="#cb107-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Charmander evolves into Charmeleon"</span>,</span>
<span id="cb107-5"><a href="#cb107-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Squirtle evolves into Wartortle"</span></span>
<span id="cb107-6"><a href="#cb107-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb107-7"><a href="#cb107-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-8"><a href="#cb107-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Mijenjamo redoslijed riječi pomoću grupa</span></span>
<span id="cb107-9"><a href="#cb107-9" aria-hidden="true" tabindex="-1"></a><span class="fu">str_replace</span>(evolution_lines, <span class="st">"(</span><span class="sc">\\</span><span class="st">w+) (</span><span class="sc">\\</span><span class="st">w+) (</span><span class="sc">\\</span><span class="st">w+)"</span>, <span class="st">"</span><span class="sc">\\</span><span class="st">1 </span><span class="sc">\\</span><span class="st">3 </span><span class="sc">\\</span><span class="st">2"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Bulbasaur into evolves Ivysaur"     "Charmander into evolves Charmeleon"
[3] "Squirtle into evolves Wartortle"   </code></pre>
</div>
</div>
</section>
<section id="kontrola-uzoraka-u-regularnim-izrazima" class="level3" data-number="0.3">
<h3 data-number="0.3" class="anchored" data-anchor-id="kontrola-uzoraka-u-regularnim-izrazima"><span class="header-section-number">0.3</span> Kontrola uzoraka u regularnim izrazima</h3>
<p>Moguće je vršiti dodatnu kontrolu nad detaljima poklapanja korištenjem pattern objekta umjesto samo niza. Ovo omogućava kontrolu nad takozvanim regex flagovima i poklapanje različitih tipova fiksnih nizova.</p>
<p><strong>Regex flagovi</strong></p>
<p>Postoji nekoliko postavki koje se mogu koristiti za kontrolu detalja regexp-a. Ove postavke se često nazivaju flagovi u drugim programskim jezicima. U <code>stringr</code>-u ih možete koristiti tako da zavisate uzorak u poziv <code>regex()</code>. Najkorisniji flag je <code>ignore_case = TRUE</code> jer omogućava znakovima da se poklapaju s velikim ili malim slovima.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb109"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb109-1"><a href="#cb109-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Pokémon nazivi s miješanim velikim/malim slovima</span></span>
<span id="cb109-2"><a href="#cb109-2" aria-hidden="true" tabindex="-1"></a>pokemon_mixed_case <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"PIKACHU"</span>, <span class="st">"pikachu"</span>, <span class="st">"Pikachu"</span>, <span class="st">"PiKaChU"</span>, <span class="st">"CHARIZARD"</span>, <span class="st">"charizard"</span>, <span class="st">"Charizard"</span>)</span>
<span id="cb109-3"><a href="#cb109-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-4"><a href="#cb109-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Tražimo "pikachu" ignorirajući razlike u velikim/malim slovima</span></span>
<span id="cb109-5"><a href="#cb109-5" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view</span>(pokemon_mixed_case, <span class="fu">regex</span>(<span class="st">"pikachu"</span>, <span class="at">ignore_case =</span> <span class="cn">TRUE</span>))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] │ &lt;PIKACHU&gt;
[2] │ &lt;pikachu&gt;
[3] │ &lt;Pikachu&gt;
[4] │ &lt;PiKaChU&gt;</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb111"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb111-1"><a href="#cb111-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Brojimo koliko Pokémona sadrži "char" bez obzira na velika/mala slova</span></span>
<span id="cb111-2"><a href="#cb111-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str_count</span>(pokemon_mixed_case, <span class="fu">regex</span>(<span class="st">"char"</span>, <span class="at">ignore_case =</span> <span class="cn">TRUE</span>))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0 0 0 0 1 1 1</code></pre>
</div>
</div>
<p>Ako radite mnogo s višelinijskim nizovima (tj. nizovi koji sadrže <code>\n</code>), <code>dotall</code> i <code>multiline</code> mogu također biti korisni, <code>dotall = TRUE</code> omogućava <code>.</code> da se poklapa s sve, uključujući <code>\n</code>, a <code>multiline = TRUE</code> čini <code>^</code> i <code>$</code> da se poklapaju s početkom i krajem svake linije umjesto početka i kraja cijelog niza.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb113"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb113-1"><a href="#cb113-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Pokémon opis s više linija</span></span>
<span id="cb113-2"><a href="#cb113-2" aria-hidden="true" tabindex="-1"></a>pokemon_description <span class="ot">&lt;-</span> <span class="st">"Pikachu is an Electric-type Pokémon.</span><span class="sc">\n</span><span class="st">It evolves from Pichu.</span><span class="sc">\n</span><span class="st">It can evolve into Raichu."</span></span>
<span id="cb113-3"><a href="#cb113-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb113-4"><a href="#cb113-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Bez dotall flag - točka ne poklapa newline</span></span>
<span id="cb113-5"><a href="#cb113-5" aria-hidden="true" tabindex="-1"></a><span class="fu">str_extract</span>(pokemon_description, <span class="st">"Electric.*Pichu"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] NA</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb115"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb115-1"><a href="#cb115-1" aria-hidden="true" tabindex="-1"></a><span class="co"># S dotall flag - točka poklapa sve uključujući newline</span></span>
<span id="cb115-2"><a href="#cb115-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str_extract</span>(pokemon_description, <span class="fu">regex</span>(<span class="st">"Electric.*Pichu"</span>, <span class="at">dotall =</span> <span class="cn">TRUE</span>))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Electric-type Pokémon.\nIt evolves from Pichu"</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb117"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb117-1"><a href="#cb117-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Višelinijski Pokémon popis</span></span>
<span id="cb117-2"><a href="#cb117-2" aria-hidden="true" tabindex="-1"></a>pokemon_list <span class="ot">&lt;-</span> <span class="st">"Generation 1:</span><span class="sc">\n</span><span class="st">Pikachu</span><span class="sc">\n</span><span class="st">Charizard</span><span class="sc">\n</span><span class="st">Generation 2:</span><span class="sc">\n</span><span class="st">Lugia</span><span class="sc">\n</span><span class="st">Ho-Oh"</span></span>
<span id="cb117-3"><a href="#cb117-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb117-4"><a href="#cb117-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Bez multiline - ^ i $ se odnose na cijeli string</span></span>
<span id="cb117-5"><a href="#cb117-5" aria-hidden="true" tabindex="-1"></a><span class="fu">str_extract_all</span>(pokemon_list, <span class="st">"^Generation.*"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[[1]]
[1] "Generation 1:"</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb119"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb119-1"><a href="#cb119-1" aria-hidden="true" tabindex="-1"></a><span class="co"># S multiline - ^ i $ za svaku liniju</span></span>
<span id="cb119-2"><a href="#cb119-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str_extract_all</span>(pokemon_list, <span class="fu">regex</span>(<span class="st">"^Generation.*"</span>, <span class="at">multiline =</span> <span class="cn">TRUE</span>))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[[1]]
[1] "Generation 1:" "Generation 2:"</code></pre>
</div>
</div>
<p>Konačno, ako pišete komplicirani regularni izraz i zabrinuti ste da ga možda nećete razumjeti u budućnosti, možete pokušati <code>comments = TRUE</code>. To mijenja jezik uzorka da ignorira razmake i nove linije, kao i sve nakon <code>#</code>. Ovo omogućava korištenje komentara i razmaka da učinite složene regularne izraze razumljivijima.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb121"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb121-1"><a href="#cb121-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Složeni uzorak za parsiranje Pokémon statistika s komentarima</span></span>
<span id="cb121-2"><a href="#cb121-2" aria-hidden="true" tabindex="-1"></a>pokemon_stats_pattern <span class="ot">&lt;-</span> <span class="fu">regex</span>(</span>
<span id="cb121-3"><a href="#cb121-3" aria-hidden="true" tabindex="-1"></a>  r<span class="st">"(</span></span>
<span id="cb121-4"><a href="#cb121-4" aria-hidden="true" tabindex="-1"></a><span class="st">    (\w+)</span></span>
<span id="cb121-5"><a href="#cb121-5" aria-hidden="true" tabindex="-1"></a><span class="st">    \s+</span></span>
<span id="cb121-6"><a href="#cb121-6" aria-hidden="true" tabindex="-1"></a><span class="st">    HP:(\d+)</span></span>
<span id="cb121-7"><a href="#cb121-7" aria-hidden="true" tabindex="-1"></a><span class="st">    \s+</span></span>
<span id="cb121-8"><a href="#cb121-8" aria-hidden="true" tabindex="-1"></a><span class="st">    ATK:(\d+)</span></span>
<span id="cb121-9"><a href="#cb121-9" aria-hidden="true" tabindex="-1"></a><span class="st">    \s+</span></span>
<span id="cb121-10"><a href="#cb121-10" aria-hidden="true" tabindex="-1"></a><span class="st">    DEF:(\d+)</span></span>
<span id="cb121-11"><a href="#cb121-11" aria-hidden="true" tabindex="-1"></a><span class="st">  )"</span>,</span>
<span id="cb121-12"><a href="#cb121-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">comments =</span> <span class="cn">TRUE</span></span>
<span id="cb121-13"><a href="#cb121-13" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb121-14"><a href="#cb121-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb121-15"><a href="#cb121-15" aria-hidden="true" tabindex="-1"></a>pokemon_battle_data <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb121-16"><a href="#cb121-16" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Pikachu HP:35 ATK:55 DEF:40"</span>,</span>
<span id="cb121-17"><a href="#cb121-17" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Charizard HP:78 ATK:84 DEF:78"</span></span>
<span id="cb121-18"><a href="#cb121-18" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb121-19"><a href="#cb121-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb121-20"><a href="#cb121-20" aria-hidden="true" tabindex="-1"></a><span class="fu">str_match</span>(pokemon_battle_data, pokemon_stats_pattern)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>     [,1]                            [,2]        [,3] [,4] [,5]
[1,] "Pikachu HP:35 ATK:55 DEF:40"   "Pikachu"   "35" "55" "40"
[2,] "Charizard HP:78 ATK:84 DEF:78" "Charizard" "78" "84" "78"</code></pre>
</div>
</div>
<p><strong>Fiksna poklapanja</strong></p>
<p>Možete se odlučiti za izlaz iz pravila regularnih izraza korištenjem <code>fixed()</code>. Ona također daje mogućnost ignoriranja velikih/malih slova.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb123"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb123-1"><a href="#cb123-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Pokémon nazivi s posebnim znakovima</span></span>
<span id="cb123-2"><a href="#cb123-2" aria-hidden="true" tabindex="-1"></a>pokemon_special <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Type: Null"</span>, <span class="st">"Mr. Mime"</span>, <span class="st">"Farfetch'd"</span>, <span class="st">"Ho-Oh"</span>, <span class="st">"Porygon-Z"</span>)</span>
<span id="cb123-3"><a href="#cb123-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb123-4"><a href="#cb123-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Tražimo literalni ":"  koristeći fixed()</span></span>
<span id="cb123-5"><a href="#cb123-5" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view</span>(pokemon_special, <span class="fu">fixed</span>(<span class="st">":"</span>))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] │ Type&lt;:&gt; Null</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb125"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb125-1"><a href="#cb125-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Tražimo literalni "-" koristeći fixed()</span></span>
<span id="cb125-2"><a href="#cb125-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view</span>(pokemon_special, <span class="fu">fixed</span>(<span class="st">"-"</span>))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[4] │ Ho&lt;-&gt;Oh
[5] │ Porygon&lt;-&gt;Z</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb127"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb127-1"><a href="#cb127-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Poredba s regex pristupom (trebalo bi escapiranje)</span></span>
<span id="cb127-2"><a href="#cb127-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view</span>(pokemon_special, <span class="st">":"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] │ Type&lt;:&gt; Null</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb129"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb129-1"><a href="#cb129-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Pokémoni s različitim kombinacijama velikih/malih slova</span></span>
<span id="cb129-2"><a href="#cb129-2" aria-hidden="true" tabindex="-1"></a>pokemon_cases <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"PIKACHU"</span>, <span class="st">"pikachu"</span>, <span class="st">"Pikachu"</span>, <span class="st">"Mr. MIME"</span>, <span class="st">"mr. mime"</span>)</span>
<span id="cb129-3"><a href="#cb129-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-4"><a href="#cb129-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Tražimo "mr. mime" ignorirajući velika/mala slova</span></span>
<span id="cb129-5"><a href="#cb129-5" aria-hidden="true" tabindex="-1"></a><span class="fu">str_detect</span>(pokemon_cases, <span class="fu">fixed</span>(<span class="st">"mr. mime"</span>, <span class="at">ignore_case =</span> <span class="cn">TRUE</span>))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE FALSE FALSE  TRUE  TRUE</code></pre>
</div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb131"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb131-1"><a href="#cb131-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Kombiniranje različitih flagova za složenije pretraživanje</span></span>
<span id="cb131-2"><a href="#cb131-2" aria-hidden="true" tabindex="-1"></a>pokemon_complex_data <span class="ot">&lt;-</span> <span class="st">"Generation I (1996):</span><span class="sc">\n</span><span class="st">Pikachu - Electric Type</span><span class="sc">\n</span><span class="st">Charizard - Fire/Flying Type</span><span class="sc">\n\n</span><span class="st">Generation II (1999):</span><span class="sc">\n</span><span class="st">Lugia - Psychic/Flying Type"</span></span>
<span id="cb131-3"><a href="#cb131-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-4"><a href="#cb131-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Ekstraktiranje svih generacija s njihovim godinama</span></span>
<span id="cb131-5"><a href="#cb131-5" aria-hidden="true" tabindex="-1"></a>generation_pattern <span class="ot">&lt;-</span> <span class="fu">regex</span>(</span>
<span id="cb131-6"><a href="#cb131-6" aria-hidden="true" tabindex="-1"></a>  r<span class="st">"(</span></span>
<span id="cb131-7"><a href="#cb131-7" aria-hidden="true" tabindex="-1"></a><span class="st">    Generation\s+</span></span>
<span id="cb131-8"><a href="#cb131-8" aria-hidden="true" tabindex="-1"></a><span class="st">    ([IVX]+)</span></span>
<span id="cb131-9"><a href="#cb131-9" aria-hidden="true" tabindex="-1"></a><span class="st">    \s*\(</span></span>
<span id="cb131-10"><a href="#cb131-10" aria-hidden="true" tabindex="-1"></a><span class="st">    (\d{4})</span></span>
<span id="cb131-11"><a href="#cb131-11" aria-hidden="true" tabindex="-1"></a><span class="st">    \)</span></span>
<span id="cb131-12"><a href="#cb131-12" aria-hidden="true" tabindex="-1"></a><span class="st">  )"</span>,</span>
<span id="cb131-13"><a href="#cb131-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">comments =</span> <span class="cn">TRUE</span>,</span>
<span id="cb131-14"><a href="#cb131-14" aria-hidden="true" tabindex="-1"></a>  <span class="at">ignore_case =</span> <span class="cn">TRUE</span></span>
<span id="cb131-15"><a href="#cb131-15" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb131-16"><a href="#cb131-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-17"><a href="#cb131-17" aria-hidden="true" tabindex="-1"></a><span class="fu">str_extract_all</span>(pokemon_complex_data, generation_pattern)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[[1]]
[1] "Generation I (1996)"  "Generation II (1999)"</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb133"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb133-1"><a href="#cb133-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Ekstraktiranje Pokémon naziva s tipovima</span></span>
<span id="cb133-2"><a href="#cb133-2" aria-hidden="true" tabindex="-1"></a>pokemon_type_pattern <span class="ot">&lt;-</span> <span class="fu">regex</span>(</span>
<span id="cb133-3"><a href="#cb133-3" aria-hidden="true" tabindex="-1"></a>  r<span class="st">"(</span></span>
<span id="cb133-4"><a href="#cb133-4" aria-hidden="true" tabindex="-1"></a><span class="st">    ^([A-Za-z]+)</span></span>
<span id="cb133-5"><a href="#cb133-5" aria-hidden="true" tabindex="-1"></a><span class="st">    \s+-\s+</span></span>
<span id="cb133-6"><a href="#cb133-6" aria-hidden="true" tabindex="-1"></a><span class="st">    (.+)\s+Type</span></span>
<span id="cb133-7"><a href="#cb133-7" aria-hidden="true" tabindex="-1"></a><span class="st">  )"</span>,</span>
<span id="cb133-8"><a href="#cb133-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">comments =</span> <span class="cn">TRUE</span>,</span>
<span id="cb133-9"><a href="#cb133-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">multiline =</span> <span class="cn">TRUE</span></span>
<span id="cb133-10"><a href="#cb133-10" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb133-11"><a href="#cb133-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb133-12"><a href="#cb133-12" aria-hidden="true" tabindex="-1"></a><span class="fu">str_match_all</span>(pokemon_complex_data, pokemon_type_pattern)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[[1]]
     [,1]                           [,2]        [,3]            
[1,] "Pikachu - Electric Type"      "Pikachu"   "Electric"      
[2,] "Charizard - Fire/Flying Type" "Charizard" "Fire/Flying"   
[3,] "Lugia - Psychic/Flying Type"  "Lugia"     "Psychic/Flying"</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb135"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb135-1"><a href="#cb135-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Veliki skup Pokémon naziva za testiranje performansi</span></span>
<span id="cb135-2"><a href="#cb135-2" aria-hidden="true" tabindex="-1"></a>large_pokemon_dataset <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="fu">c</span>(<span class="st">"Pikachu"</span>, <span class="st">"Charizard"</span>, <span class="st">"Blastoise"</span>, <span class="st">"Venusaur"</span>), <span class="dv">1000</span>)</span>
<span id="cb135-3"><a href="#cb135-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb135-4"><a href="#cb135-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Fiksno pretraživanje je brže za jednostavne nizove</span></span>
<span id="cb135-5"><a href="#cb135-5" aria-hidden="true" tabindex="-1"></a><span class="fu">system.time</span>({</span>
<span id="cb135-6"><a href="#cb135-6" aria-hidden="true" tabindex="-1"></a>  fixed_results <span class="ot">&lt;-</span> <span class="fu">str_detect</span>(large_pokemon_dataset, <span class="fu">fixed</span>(<span class="st">"Pikachu"</span>))</span>
<span id="cb135-7"><a href="#cb135-7" aria-hidden="true" tabindex="-1"></a>})</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>   user  system elapsed 
  0.001   0.000   0.001 </code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb137"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb137-1"><a href="#cb137-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Regex pretraživanje za istu stvar</span></span>
<span id="cb137-2"><a href="#cb137-2" aria-hidden="true" tabindex="-1"></a><span class="fu">system.time</span>({</span>
<span id="cb137-3"><a href="#cb137-3" aria-hidden="true" tabindex="-1"></a>  regex_results <span class="ot">&lt;-</span> <span class="fu">str_detect</span>(large_pokemon_dataset, <span class="st">"Pikachu"</span>)</span>
<span id="cb137-4"><a href="#cb137-4" aria-hidden="true" tabindex="-1"></a>})</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>   user  system elapsed 
  0.000   0.000   0.001 </code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb139"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb139-1"><a href="#cb139-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Za jednostavna poklapanja, fixed() može biti značajno brži</span></span>
<span id="cb139-2"><a href="#cb139-2" aria-hidden="true" tabindex="-1"></a><span class="fu">identical</span>(fixed_results, regex_results)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
</div>


<!-- -->

</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
    const viewSource = window.document.getElementById('quarto-view-source') ||
                       window.document.getElementById('quarto-code-tools-source');
    if (viewSource) {
      const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
      viewSource.addEventListener("click", function(e) {
        if (sourceUrl) {
          // rstudio viewer pane
          if (/\bcapabilities=\b/.test(window.location)) {
            window.open(sourceUrl);
          } else {
            window.location.href = sourceUrl;
          }
        } else {
          const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
          modal.show();
        }
        return false;
      });
    }
    function toggleCodeHandler(show) {
      return function(e) {
        const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
        for (let i=0; i<detailsSrc.length; i++) {
          const details = detailsSrc[i].parentElement;
          if (show) {
            details.open = true;
          } else {
            details.removeAttribute("open");
          }
        }
        const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
        const fromCls = show ? "hidden" : "unhidden";
        const toCls = show ? "unhidden" : "hidden";
        for (let i=0; i<cellCodeDivs.length; i++) {
          const codeDiv = cellCodeDivs[i];
          if (codeDiv.classList.contains(fromCls)) {
            codeDiv.classList.remove(fromCls);
            codeDiv.classList.add(toCls);
          } 
        }
        return false;
      }
    }
    const hideAllCode = window.document.getElementById("quarto-hide-all-code");
    if (hideAllCode) {
      hideAllCode.addEventListener("click", toggleCodeHandler(false));
    }
    const showAllCode = window.document.getElementById("quarto-show-all-code");
    if (showAllCode) {
      showAllCode.addEventListener("click", toggleCodeHandler(true));
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./03_07_nizovi.html" class="pagination-link" aria-label="Nizovi">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Nizovi</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./03_09_datum_i_vrijeme.html" class="pagination-link" aria-label="Datum i vrijeme">
        <span class="nav-page-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Datum i vrijeme</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb141" data-shortcodes="false"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb141-1"><a href="#cb141-1" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb141-2"><a href="#cb141-2" aria-hidden="true" tabindex="-1"></a><span class="an">title:</span><span class="co"> "Regularni izrazi"</span></span>
<span id="cb141-3"><a href="#cb141-3" aria-hidden="true" tabindex="-1"></a><span class="an">description:</span><span class="co"> ""</span></span>
<span id="cb141-4"><a href="#cb141-4" aria-hidden="true" tabindex="-1"></a><span class="an">number-sections:</span><span class="co"> true</span></span>
<span id="cb141-5"><a href="#cb141-5" aria-hidden="true" tabindex="-1"></a><span class="an">title-block-banner:</span><span class="co"> "#483D8B"</span></span>
<span id="cb141-6"><a href="#cb141-6" aria-hidden="true" tabindex="-1"></a><span class="an">title-block-banner-color:</span><span class="co"> "white"</span></span>
<span id="cb141-7"><a href="#cb141-7" aria-hidden="true" tabindex="-1"></a><span class="an">lang:</span><span class="co"> hr</span></span>
<span id="cb141-8"><a href="#cb141-8" aria-hidden="true" tabindex="-1"></a><span class="an">crossref:</span></span>
<span id="cb141-9"><a href="#cb141-9" aria-hidden="true" tabindex="-1"></a><span class="co">  tbl-title: "Tablica"</span></span>
<span id="cb141-10"><a href="#cb141-10" aria-hidden="true" tabindex="-1"></a><span class="co">  fig-title: "Slika"</span></span>
<span id="cb141-11"><a href="#cb141-11" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb141-12"><a href="#cb141-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-15"><a href="#cb141-15" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb141-16"><a href="#cb141-16" aria-hidden="true" tabindex="-1"></a><span class="co">#| include: false</span></span>
<span id="cb141-17"><a href="#cb141-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-18"><a href="#cb141-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Aktiviranje paketa</span></span>
<span id="cb141-19"><a href="#cb141-19" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb141-20"><a href="#cb141-20" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(stringr)</span>
<span id="cb141-21"><a href="#cb141-21" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(RKaggle)</span>
<span id="cb141-22"><a href="#cb141-22" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(forcats)</span>
<span id="cb141-23"><a href="#cb141-23" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lubridate)</span>
<span id="cb141-24"><a href="#cb141-24" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(hms)</span>
<span id="cb141-25"><a href="#cb141-25" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb141-26"><a href="#cb141-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-29"><a href="#cb141-29" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb141-30"><a href="#cb141-30" aria-hidden="true" tabindex="-1"></a><span class="co">#| include: false</span></span>
<span id="cb141-31"><a href="#cb141-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-32"><a href="#cb141-32" aria-hidden="true" tabindex="-1"></a><span class="co"># Učitavanje podataka</span></span>
<span id="cb141-33"><a href="#cb141-33" aria-hidden="true" tabindex="-1"></a>poke_raw <span class="ot">&lt;-</span> <span class="fu">get_dataset</span>(<span class="st">"abcsds/pokemon"</span>)</span>
<span id="cb141-34"><a href="#cb141-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-35"><a href="#cb141-35" aria-hidden="true" tabindex="-1"></a><span class="co"># Prilagodba podatkovnog okvira</span></span>
<span id="cb141-36"><a href="#cb141-36" aria-hidden="true" tabindex="-1"></a>pokemon_dataset <span class="ot">&lt;-</span> poke_raw <span class="sc">|&gt;</span></span>
<span id="cb141-37"><a href="#cb141-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tibble</span>() <span class="sc">|&gt;</span></span>
<span id="cb141-38"><a href="#cb141-38" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(</span>
<span id="cb141-39"><a href="#cb141-39" aria-hidden="true" tabindex="-1"></a>    <span class="at">id =</span> <span class="st">`</span><span class="at">#</span><span class="st">`</span>,</span>
<span id="cb141-40"><a href="#cb141-40" aria-hidden="true" tabindex="-1"></a>    <span class="at">name =</span> <span class="st">`</span><span class="at">Name</span><span class="st">`</span>,</span>
<span id="cb141-41"><a href="#cb141-41" aria-hidden="true" tabindex="-1"></a>    <span class="at">type_1 =</span> <span class="st">`</span><span class="at">Type 1</span><span class="st">`</span>,</span>
<span id="cb141-42"><a href="#cb141-42" aria-hidden="true" tabindex="-1"></a>    <span class="at">type_2 =</span> <span class="st">`</span><span class="at">Type 2</span><span class="st">`</span>,</span>
<span id="cb141-43"><a href="#cb141-43" aria-hidden="true" tabindex="-1"></a>    <span class="at">total =</span> <span class="st">`</span><span class="at">Total</span><span class="st">`</span>,</span>
<span id="cb141-44"><a href="#cb141-44" aria-hidden="true" tabindex="-1"></a>    <span class="at">attack =</span> <span class="st">`</span><span class="at">Attack</span><span class="st">`</span>,</span>
<span id="cb141-45"><a href="#cb141-45" aria-hidden="true" tabindex="-1"></a>    <span class="at">defense =</span> <span class="st">`</span><span class="at">Defense</span><span class="st">`</span>,</span>
<span id="cb141-46"><a href="#cb141-46" aria-hidden="true" tabindex="-1"></a>    <span class="at">special_attack =</span> <span class="st">`</span><span class="at">Sp. Atk</span><span class="st">`</span>,</span>
<span id="cb141-47"><a href="#cb141-47" aria-hidden="true" tabindex="-1"></a>    <span class="at">special_defense =</span> <span class="st">`</span><span class="at">Sp. Def</span><span class="st">`</span>,</span>
<span id="cb141-48"><a href="#cb141-48" aria-hidden="true" tabindex="-1"></a>    <span class="at">speed =</span> <span class="st">`</span><span class="at">Speed</span><span class="st">`</span>,</span>
<span id="cb141-49"><a href="#cb141-49" aria-hidden="true" tabindex="-1"></a>    <span class="at">generation =</span> <span class="st">`</span><span class="at">Generation</span><span class="st">`</span>,</span>
<span id="cb141-50"><a href="#cb141-50" aria-hidden="true" tabindex="-1"></a>    <span class="at">legendary =</span> <span class="st">`</span><span class="at">Legendary</span><span class="st">`</span></span>
<span id="cb141-51"><a href="#cb141-51" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb141-52"><a href="#cb141-52" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb141-53"><a href="#cb141-53" aria-hidden="true" tabindex="-1"></a>    <span class="fu">across</span>(<span class="fu">c</span>(<span class="st">`</span><span class="at">type_1</span><span class="st">`</span>, <span class="st">`</span><span class="at">type_2</span><span class="st">`</span>, generation), as.character),</span>
<span id="cb141-54"><a href="#cb141-54" aria-hidden="true" tabindex="-1"></a>    <span class="fu">across</span>(legendary, as.logical),</span>
<span id="cb141-55"><a href="#cb141-55" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb141-56"><a href="#cb141-56" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">where</span>(is.character), <span class="sc">~</span> <span class="fu">str_to_lower</span>(.x))) <span class="sc">|&gt;</span></span>
<span id="cb141-57"><a href="#cb141-57" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb141-58"><a href="#cb141-58" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">type_1</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">fct_infreq</span>(<span class="st">`</span><span class="at">type_1</span><span class="st">`</span>),</span>
<span id="cb141-59"><a href="#cb141-59" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">type_2</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">fct_infreq</span>(<span class="st">`</span><span class="at">type_2</span><span class="st">`</span>),</span>
<span id="cb141-60"><a href="#cb141-60" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">generation</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">fct_infreq</span>(<span class="st">`</span><span class="at">generation</span><span class="st">`</span>)</span>
<span id="cb141-61"><a href="#cb141-61" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb141-62"><a href="#cb141-62" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb141-63"><a href="#cb141-63" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-64"><a href="#cb141-64" aria-hidden="true" tabindex="-1"></a>**Regularni izrazi** (*regular expressions*, *regex*) su koncizan jezik za opisivanje uzoraka unutar nizova znakova. Funkcioniraju kao formalni jezik koji omogućuje precizno definiranje uzoraka pretraživanja u tekstualnim podacima kroz kombinaciju literalnih znakova i metaznakova. Osnovni elementi regularnih izraza čine literalni znakovi koji se poklapaju s odgovarajućim znakovima u tekstu te metaznakovi koji imaju posebna značenja. Slova i brojevi su literalni znakovi, a većina interpunkcijskih znakova (., +, <span class="sc">\*</span>, <span class="sc">\[</span>, <span class="sc">\]</span>, i ?) ima posebna značenja i pa su oni metaznakovi.</span>
<span id="cb141-65"><a href="#cb141-65" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-66"><a href="#cb141-66" aria-hidden="true" tabindex="-1"></a>Regularni izrazi predstavljaju nezamjenjiv alat u znanosti o podacima. Prvenstveno, omogućavaju sofisticiranu manipulaciju tekstualnih podataka što je posebno važno u kontekstu nestrukturiranih podataka. Osim toga, u procesu čišćenja podataka regularni izrazi omogućavaju identificiranje i uklanjanje neispravnih ili nepotrebnih dijelova teksta, normalizaciju formata podataka te standardizaciju unosa. Nadalje, regularni izrazi omogućuju ekstrakciju specifičnih informacija iz velikih skupova tekstualnih podataka. Klase znakova su definirane sa <span class="in">`[]`</span> i omogućavaju poklapanje skupa znakova, a što je korisno za izdvajanje strukturiranih informacija poput datuma, adresa ili identifikacijskih brojeva.</span>
<span id="cb141-67"><a href="#cb141-67" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-68"><a href="#cb141-68" aria-hidden="true" tabindex="-1"></a>Tekstualni podaci čine značajan dio ukupne količine podataka. Regularni izrazi omogućavaju transformaciju nestrukturiranih tekstualnih podataka u strukturirane formate pogodne za analizu. Ova sposobnost je osobito važna u područjima poput analize sentimenta, obradi prirodnog jezika i analizi teksta.</span>
<span id="cb141-69"><a href="#cb141-69" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-70"><a href="#cb141-70" aria-hidden="true" tabindex="-1"></a>Regularni izrazi također omogućavaju validaciju podataka kroz definiranje preciznih kriterija za prihvatljive formate unosa. Ovo je posebno važno u fazama prikupljanja i pretprocesiranja podataka gdje je potrebno osigurati konzistentnost i kvalitetu podataka prije početka analize.</span>
<span id="cb141-71"><a href="#cb141-71" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-72"><a href="#cb141-72" aria-hidden="true" tabindex="-1"></a>Najjednostavniji uzorci se sastoje od slova i brojeva koji se poklapaju točno s tim znakovima. U kontekstu analize Pokémon naziva, ovo znači da možemo tražiti određene Pokémone pomoću jednostavnih literalnih znakova. Na primjer, ako želimo pronaći sve Pokémone čiji naziv sadrži "*char*", jednostavno ćemo koristiti uzorak "*char*" koji će pronaći Pokémone poput Charmander, Charmeleon ili Charizard. Slova i brojevi se poklapaju točno te se nazivaju literalni znakovi. Većina interpunkcijskih znakova ima posebna značenja i nazivaju se metaznakovi. Kada analiziramo Pokémon nazive, posebno je korisno razumjeti da točka (.) kao metaznak može zamijeniti bilo koji znak. Tako uzorak "<span class="in">`p.ka`</span>" može pronaći "<span class="in">`Pika`</span>" u nazivu Pikachu.</span>
<span id="cb141-73"><a href="#cb141-73" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-76"><a href="#cb141-76" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb141-77"><a href="#cb141-77" aria-hidden="true" tabindex="-1"></a>pokemon_names <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Pikachu"</span>, <span class="st">"Charmander"</span>, <span class="st">"Charmeleon"</span>, <span class="st">"Charizard"</span>, <span class="st">"Bulbasaur"</span>, <span class="st">"Ivysaur"</span>, <span class="st">"Venusaur"</span>, <span class="st">"Squirtle"</span>, <span class="st">"Wartortle"</span>, <span class="st">"Blastoise"</span>, <span class="st">"Magikarp"</span>, <span class="st">"Gyarados"</span>, <span class="st">"Nidoran"</span>, <span class="st">"Nidoking"</span>, <span class="st">"Nidoqueen"</span>, <span class="st">"Alakazam"</span>, <span class="st">"Abra"</span>, <span class="st">"Kadabra"</span>, <span class="st">"Scyther"</span>, <span class="st">"Scizor"</span>, <span class="st">"Rattata"</span>, <span class="st">"Wigglytuff"</span>, <span class="st">"Jigglypuff"</span>, <span class="st">"Oddish"</span>, <span class="st">"Gloom"</span>)</span>
<span id="cb141-78"><a href="#cb141-78" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-79"><a href="#cb141-79" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view</span>(pokemon_names, <span class="st">"Char"</span>)</span>
<span id="cb141-80"><a href="#cb141-80" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-81"><a href="#cb141-81" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view</span>(pokemon_names, <span class="st">"saur"</span>)</span>
<span id="cb141-82"><a href="#cb141-82" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-83"><a href="#cb141-83" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view</span>(pokemon_names, <span class="st">"P.ka"</span>)</span>
<span id="cb141-84"><a href="#cb141-84" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-85"><a href="#cb141-85" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view</span>(pokemon_names, <span class="st">"ar.e"</span>)</span>
<span id="cb141-86"><a href="#cb141-86" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb141-87"><a href="#cb141-87" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-88"><a href="#cb141-88" aria-hidden="true" tabindex="-1"></a>Kvantifikatori kontroliraju koliko se puta uzorak može poklapati. U analizi Pokémon naziva, kvantifikatori omogućavaju fleksibilno pretraživanje različitih varijanti. Zato znak upitnik čini uzorak opcijonalnim (tj. poklapaju se 0 ili 1 put). Kod Pokémona, ovo je korisno za pronalaženje naziva koji mogu imati opcijska slova. Na primjer, uzorak "nidos?aur" pronaći će i "Nidosaur" (ako takav postoji) i "Nidosaurus" varijante naziva. Osim toga, on omogućava uzorku ponavljanje (tj. poklapaju se najmanje jednom). Kod analizi Pokémon tipova, uzorak "gras+" može pronaći sve varijante tipa "grass" s jednim ili više slova 's' na kraju. Također, omogućava uzorku biti opcionalan ili se ponavljati (tj. poklapaju se bilo koji broj puta, uključujući 0). Ovo je posebno korisno za pronalaženje Pokémona s varijabilnim brojem određenih slova u nazivu.</span>
<span id="cb141-89"><a href="#cb141-89" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-92"><a href="#cb141-92" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb141-93"><a href="#cb141-93" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view</span>(pokemon_names, <span class="st">"nido(ran)?"</span>)</span>
<span id="cb141-94"><a href="#cb141-94" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-95"><a href="#cb141-95" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view</span>(pokemon_names, <span class="st">"t+"</span>)</span>
<span id="cb141-96"><a href="#cb141-96" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-97"><a href="#cb141-97" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view</span>(pokemon_names, <span class="st">"l+"</span>)</span>
<span id="cb141-98"><a href="#cb141-98" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-99"><a href="#cb141-99" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view</span>(pokemon_names, <span class="st">"Glo*m"</span>)</span>
<span id="cb141-100"><a href="#cb141-100" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb141-101"><a href="#cb141-101" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-102"><a href="#cb141-102" aria-hidden="true" tabindex="-1"></a>Klase znakova su definirane sa <span class="in">`[]`</span> i omogućavaju poklapanje skupa znakova, npr. <span class="in">`[abcd]`</span> se poklapaju s "a", "b", "c", ili "d". U analizi Pokémon naziva, ovo omogućava traženje naziva koji počinju određenim skupom slova. Na primjer, <span class="in">`[PFBSW]`</span> može pronaći Pokémone čiji nazivi počinju slovima P (Pikachu), F (Feraligatr), B (Blastoise), S (Squirtle), ili W (Wartortle). Također možete invertirati poklapanje počevši s <span class="in">`^`</span>: <span class="in">`[^abcd]`</span> poklapaju sve osim "a", "b", "c", ili "d". Kod analize Pokémon tipova, možemo koristiti <span class="in">`[^FireWater]`</span> za pronalaženje svih tipova osim Fire i Water tipova.</span>
<span id="cb141-103"><a href="#cb141-103" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-106"><a href="#cb141-106" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb141-107"><a href="#cb141-107" aria-hidden="true" tabindex="-1"></a><span class="co"># Pokémoni koji počinju s određenim slovima</span></span>
<span id="cb141-108"><a href="#cb141-108" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view</span>(pokemon_names, <span class="st">"^[BCPV]"</span>)</span>
<span id="cb141-109"><a href="#cb141-109" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-110"><a href="#cb141-110" aria-hidden="true" tabindex="-1"></a><span class="co"># Pokémoni koji završavaju samoglasnicima</span></span>
<span id="cb141-111"><a href="#cb141-111" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view</span>(pokemon_names, <span class="st">"[aeiou]$"</span>)</span>
<span id="cb141-112"><a href="#cb141-112" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb141-113"><a href="#cb141-113" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-114"><a href="#cb141-114" aria-hidden="true" tabindex="-1"></a>Možete koristiti alternaciju <span class="in">`|`</span> za biranje između jednog ili više alternativnih uzoraka. U kontekstu Pokémon analize, ovo je korisno za traženje različitih tipova ili grupa Pokémona. Na primjer, uzorak <span class="in">`"fire|water|grass"`</span> može pronaći sve Pokémone osnovnih tipova. Također, uzorci traženja ponavljanih samoglasnika kao što je <span class="in">`"aa|ee|ii|oo|uu"`</span> mogu biti korisni za pronalaženje Pokémona s karakterističnim duplikovanim slovima u nazivima, poput nekih japanskih naziva koji su transliterirani u engleski jezik.</span>
<span id="cb141-115"><a href="#cb141-115" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-118"><a href="#cb141-118" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb141-119"><a href="#cb141-119" aria-hidden="true" tabindex="-1"></a><span class="co"># Dodajemo tipove za demonstraciju</span></span>
<span id="cb141-120"><a href="#cb141-120" aria-hidden="true" tabindex="-1"></a>pokemon_with_types <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Pikachu Electric"</span>, <span class="st">"Charmander Fire"</span>, <span class="st">"Squirtle Water"</span>, <span class="st">"Bulbasaur Grass Poison"</span>, <span class="st">"Geodude Rock Ground"</span>, <span class="st">"Zubat Poison Flying"</span>)</span>
<span id="cb141-121"><a href="#cb141-121" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-122"><a href="#cb141-122" aria-hidden="true" tabindex="-1"></a><span class="co"># Tražimo Pokémone Fire, Water ili Grass tipova</span></span>
<span id="cb141-123"><a href="#cb141-123" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view</span>(pokemon_with_types, <span class="st">"Fire|Water|Grass"</span>)</span>
<span id="cb141-124"><a href="#cb141-124" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-125"><a href="#cb141-125" aria-hidden="true" tabindex="-1"></a><span class="co"># Tražimo Pokémone s duplikovanim slovima u nazivu</span></span>
<span id="cb141-126"><a href="#cb141-126" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view</span>(pokemon_names, <span class="st">"([a-z])</span><span class="sc">\\</span><span class="st">1"</span>)</span>
<span id="cb141-127"><a href="#cb141-127" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb141-128"><a href="#cb141-128" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-129"><a href="#cb141-129" aria-hidden="true" tabindex="-1"></a>Regularni izrazi su vrlo kompaktni i koriste mnogo interpunkcijskih znakova pa mogu djelovati zastrašujuće i teški za čitanje, no kada se primjenjuju na konkretan skup podataka poput Pokémon naziva i tipova, njihova praktička korist postaje jasnija. U praktičnoj primjeni na Pokémon podacima, ovi osnovni uzorci omogućavaju efikasno kategoriziranje Pokémona prema različitim kriterijima, analizu obrazaca u imenima te pripremu podataka za dublju analizu performansi i karakteristika različitih grupa Pokémona.</span>
<span id="cb141-130"><a href="#cb141-130" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-133"><a href="#cb141-133" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb141-134"><a href="#cb141-134" aria-hidden="true" tabindex="-1"></a><span class="co"># Simuliramo Pokémon podatke s HP vrijednostima</span></span>
<span id="cb141-135"><a href="#cb141-135" aria-hidden="true" tabindex="-1"></a>pokemon_stats <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Pikachu HP:35"</span>, <span class="st">"Charizard HP:78"</span>, <span class="st">"Blastoise HP:79"</span>, <span class="st">"Venusaur HP:80"</span>, <span class="st">"Alakazam HP:55"</span>, <span class="st">"Machamp HP:90"</span>)</span>
<span id="cb141-136"><a href="#cb141-136" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-137"><a href="#cb141-137" aria-hidden="true" tabindex="-1"></a><span class="co"># Tražimo Pokémone s HP između 70-89</span></span>
<span id="cb141-138"><a href="#cb141-138" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view</span>(pokemon_stats, <span class="st">"HP:[7-8][0-9]"</span>)</span>
<span id="cb141-139"><a href="#cb141-139" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-140"><a href="#cb141-140" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-141"><a href="#cb141-141" aria-hidden="true" tabindex="-1"></a><span class="co"># Tražimo sve HP vrijednosti</span></span>
<span id="cb141-142"><a href="#cb141-142" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view</span>(pokemon_stats, <span class="st">"HP:[0-9]+"</span>)</span>
<span id="cb141-143"><a href="#cb141-143" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb141-144"><a href="#cb141-144" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-145"><a href="#cb141-145" aria-hidden="true" tabindex="-1"></a><span class="fu">### Ključne funkcije za rad s regularnim izrazima</span></span>
<span id="cb141-146"><a href="#cb141-146" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-147"><a href="#cb141-147" aria-hidden="true" tabindex="-1"></a>**Detektiranje poklapanja**</span>
<span id="cb141-148"><a href="#cb141-148" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-149"><a href="#cb141-149" aria-hidden="true" tabindex="-1"></a><span class="in">`str_detect()`</span> vraća logički vektor koji je <span class="in">`TRUE`</span> ako se uzorak poklapa s elementom znakovna vektora i <span class="in">`FALSE`</span> inače. Budući da <span class="in">`str_detect()`</span> vraća logički vektor iste duljine kao početni vektor, funkcija dobro se uparuje s filter() glagolom iz <span class="in">`dplyr`</span> paketa. Također možemo koristiti <span class="in">`str_detect()`</span> s <span class="in">`summarize()`</span> koji daje izračun broja opažanja koja se poklapaju ili <span class="in">`mean()`</span> koja govori udio koji se poklapa.</span>
<span id="cb141-150"><a href="#cb141-150" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-153"><a href="#cb141-153" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb141-154"><a href="#cb141-154" aria-hidden="true" tabindex="-1"></a><span class="co"># Stvaramo vektor Pokémon naziva</span></span>
<span id="cb141-155"><a href="#cb141-155" aria-hidden="true" tabindex="-1"></a>pokemon_names <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Pikachu"</span>, <span class="st">"Charmander"</span>, <span class="st">"Charmeleon"</span>, <span class="st">"Charizard"</span>, <span class="st">"Bulbasaur"</span>, <span class="st">"Ivysaur"</span>, <span class="st">"Venusaur"</span>, <span class="st">"Squirtle"</span>, <span class="st">"Wartortle"</span>, <span class="st">"Blastoise"</span>)</span>
<span id="cb141-156"><a href="#cb141-156" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-157"><a href="#cb141-157" aria-hidden="true" tabindex="-1"></a><span class="co"># Detektiramo koji Pokémoni sadrže "char"</span></span>
<span id="cb141-158"><a href="#cb141-158" aria-hidden="true" tabindex="-1"></a><span class="fu">str_detect</span>(pokemon_names, <span class="st">"char"</span>)</span>
<span id="cb141-159"><a href="#cb141-159" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-160"><a href="#cb141-160" aria-hidden="true" tabindex="-1"></a><span class="co"># Koji Pokémoni završavaju sa "saur"</span></span>
<span id="cb141-161"><a href="#cb141-161" aria-hidden="true" tabindex="-1"></a><span class="fu">str_detect</span>(pokemon_names, <span class="st">"saur$"</span>)</span>
<span id="cb141-162"><a href="#cb141-162" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-163"><a href="#cb141-163" aria-hidden="true" tabindex="-1"></a><span class="co"># Stvaramo Pokémon data frame</span></span>
<span id="cb141-164"><a href="#cb141-164" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb141-165"><a href="#cb141-165" aria-hidden="true" tabindex="-1"></a>pokemon_data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb141-166"><a href="#cb141-166" aria-hidden="true" tabindex="-1"></a>  <span class="at">name =</span> <span class="fu">c</span>(<span class="st">"Pikachu"</span>, <span class="st">"Raichu"</span>, <span class="st">"Charmander"</span>, <span class="st">"Charmeleon"</span>, <span class="st">"Charizard"</span>, <span class="st">"Alakazam"</span>, <span class="st">"Machamp"</span>, <span class="st">"Gyarados"</span>, <span class="st">"Dragonite"</span>, <span class="st">"Mewtwo"</span>),</span>
<span id="cb141-167"><a href="#cb141-167" aria-hidden="true" tabindex="-1"></a>  <span class="at">type =</span> <span class="fu">c</span>(<span class="st">"Electric"</span>, <span class="st">"Electric"</span>, <span class="st">"Fire"</span>, <span class="st">"Fire"</span>, <span class="st">"Fire"</span>, <span class="st">"Psychic"</span>, <span class="st">"Fighting"</span>, <span class="st">"Water"</span>, <span class="st">"Dragon"</span>, <span class="st">"Psychic"</span>),</span>
<span id="cb141-168"><a href="#cb141-168" aria-hidden="true" tabindex="-1"></a>  <span class="at">generation =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>)</span>
<span id="cb141-169"><a href="#cb141-169" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb141-170"><a href="#cb141-170" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-171"><a href="#cb141-171" aria-hidden="true" tabindex="-1"></a><span class="co"># Pronalazimo sve Pokémone koji sadrže slovo "a"</span></span>
<span id="cb141-172"><a href="#cb141-172" aria-hidden="true" tabindex="-1"></a>pokemon_data <span class="sc">|&gt;</span></span>
<span id="cb141-173"><a href="#cb141-173" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">str_detect</span>(name, <span class="st">"a"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb141-174"><a href="#cb141-174" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(name, <span class="at">sort =</span> <span class="cn">TRUE</span>)</span>
<span id="cb141-175"><a href="#cb141-175" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-176"><a href="#cb141-176" aria-hidden="true" tabindex="-1"></a><span class="co"># Dodajemo više Pokémon generacija</span></span>
<span id="cb141-177"><a href="#cb141-177" aria-hidden="true" tabindex="-1"></a>pokemon_extended <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb141-178"><a href="#cb141-178" aria-hidden="true" tabindex="-1"></a>  <span class="at">name =</span> <span class="fu">c</span>(<span class="st">"Pikachu"</span>, <span class="st">"Charmander"</span>, <span class="st">"Alakazam"</span>, <span class="st">"Dragonite"</span>, <span class="st">"Chikorita"</span>, <span class="st">"Cyndaquil"</span>, <span class="st">"Totodile"</span>, <span class="st">"Lugia"</span>),</span>
<span id="cb141-179"><a href="#cb141-179" aria-hidden="true" tabindex="-1"></a>  <span class="at">generation =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">2</span>, <span class="dv">2</span>, <span class="dv">2</span>)</span>
<span id="cb141-180"><a href="#cb141-180" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb141-181"><a href="#cb141-181" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-182"><a href="#cb141-182" aria-hidden="true" tabindex="-1"></a><span class="co"># Analiziramo udio Pokémona koji sadrže "a" po generacijama</span></span>
<span id="cb141-183"><a href="#cb141-183" aria-hidden="true" tabindex="-1"></a>pokemon_extended <span class="sc">|&gt;</span></span>
<span id="cb141-184"><a href="#cb141-184" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(generation) <span class="sc">|&gt;</span></span>
<span id="cb141-185"><a href="#cb141-185" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(</span>
<span id="cb141-186"><a href="#cb141-186" aria-hidden="true" tabindex="-1"></a>    <span class="at">total_pokemon =</span> <span class="fu">n</span>(),</span>
<span id="cb141-187"><a href="#cb141-187" aria-hidden="true" tabindex="-1"></a>    <span class="at">with_a =</span> <span class="fu">sum</span>(<span class="fu">str_detect</span>(name, <span class="st">"a"</span>)),</span>
<span id="cb141-188"><a href="#cb141-188" aria-hidden="true" tabindex="-1"></a>    <span class="at">proportion_with_a =</span> <span class="fu">mean</span>(<span class="fu">str_detect</span>(name, <span class="st">"a"</span>))</span>
<span id="cb141-189"><a href="#cb141-189" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb141-190"><a href="#cb141-190" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb141-191"><a href="#cb141-191" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-192"><a href="#cb141-192" aria-hidden="true" tabindex="-1"></a>Postoje dvije funkcije koje su usko povezane s <span class="in">`str_detect()`</span>, <span class="in">`str_subset()`</span> i <span class="in">`str_which()`</span>. <span class="in">`str_subset()`</span> vraća znakovni vektor koji sadrži samo nizove koji se poklapaju, a <span class="in">`str_which()`</span> vraća cjelobrojni vektor koji daje pozicije nizova koji se poklapaju.</span>
<span id="cb141-193"><a href="#cb141-193" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-196"><a href="#cb141-196" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb141-197"><a href="#cb141-197" aria-hidden="true" tabindex="-1"></a><span class="co"># str_subset() - vraća samo Pokémone s "char"</span></span>
<span id="cb141-198"><a href="#cb141-198" aria-hidden="true" tabindex="-1"></a><span class="fu">str_subset</span>(pokemon_names, <span class="st">"char"</span>)</span>
<span id="cb141-199"><a href="#cb141-199" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-200"><a href="#cb141-200" aria-hidden="true" tabindex="-1"></a><span class="co"># str_which() - vraća pozicije Pokémona s "char"</span></span>
<span id="cb141-201"><a href="#cb141-201" aria-hidden="true" tabindex="-1"></a><span class="fu">str_which</span>(pokemon_names, <span class="st">"char"</span>)</span>
<span id="cb141-202"><a href="#cb141-202" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb141-203"><a href="#cb141-203" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-204"><a href="#cb141-204" aria-hidden="true" tabindex="-1"></a>**Brojanje poklapanja**</span>
<span id="cb141-205"><a href="#cb141-205" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-206"><a href="#cb141-206" aria-hidden="true" tabindex="-1"></a>Sljedeći korak je brojanje poklapanja funkcijom <span class="in">`str_count()`</span> koja umjesto <span class="in">`TRUE`</span> ili <span class="in">`FALSE`</span>, govori koliko je poklapanja u svakom nizu.</span>
<span id="cb141-207"><a href="#cb141-207" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-210"><a href="#cb141-210" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb141-211"><a href="#cb141-211" aria-hidden="true" tabindex="-1"></a><span class="co"># Brojimo koliko puta se pojavljuje slovo "a" u Pokémon nazivima</span></span>
<span id="cb141-212"><a href="#cb141-212" aria-hidden="true" tabindex="-1"></a><span class="fu">str_count</span>(pokemon_names, <span class="st">"a"</span>)</span>
<span id="cb141-213"><a href="#cb141-213" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-214"><a href="#cb141-214" aria-hidden="true" tabindex="-1"></a><span class="co"># Pokémoni s ponavljajućim slovima</span></span>
<span id="cb141-215"><a href="#cb141-215" aria-hidden="true" tabindex="-1"></a>pokemon_repeats <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Rattata"</span>, <span class="st">"Wigglytuff"</span>, <span class="st">"Jigglypuff"</span>, <span class="st">"Oddish"</span>, <span class="st">"Seel"</span>)</span>
<span id="cb141-216"><a href="#cb141-216" aria-hidden="true" tabindex="-1"></a><span class="fu">str_count</span>(pokemon_repeats, <span class="st">"l"</span>)</span>
<span id="cb141-217"><a href="#cb141-217" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb141-218"><a href="#cb141-218" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-219"><a href="#cb141-219" aria-hidden="true" tabindex="-1"></a>Važno je napomenuti da se svako poklapanje počinje na kraju prethodnog poklapanja, tj. regex poklapanja se nikad ne preklapaju. Na primjer, u "abababa", koliko će se puta poklopiti uzorak "aba"? Regularni izrazi kažu dva, ne tri.</span>
<span id="cb141-220"><a href="#cb141-220" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-223"><a href="#cb141-223" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb141-224"><a href="#cb141-224" aria-hidden="true" tabindex="-1"></a><span class="co"># Demonstracija s Pokémon nazivom</span></span>
<span id="cb141-225"><a href="#cb141-225" aria-hidden="true" tabindex="-1"></a><span class="fu">str_count</span>(<span class="st">"Rattata"</span>, <span class="st">"tat"</span>)</span>
<span id="cb141-226"><a href="#cb141-226" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb141-227"><a href="#cb141-227" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-228"><a href="#cb141-228" aria-hidden="true" tabindex="-1"></a>Prirodno je koristiti <span class="in">`str_count()`</span> s <span class="in">`mutate()`</span>. Sljedeći primjer koristi klase znakova za brojanje samoglasnika i suglasnika u svakom naziv.</span>
<span id="cb141-229"><a href="#cb141-229" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-232"><a href="#cb141-232" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb141-233"><a href="#cb141-233" aria-hidden="true" tabindex="-1"></a><span class="co"># Analiziramo samoglasnike i suglasnike u Pokémon nazivima</span></span>
<span id="cb141-234"><a href="#cb141-234" aria-hidden="true" tabindex="-1"></a>pokemon_data <span class="sc">|&gt;</span></span>
<span id="cb141-235"><a href="#cb141-235" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb141-236"><a href="#cb141-236" aria-hidden="true" tabindex="-1"></a>    <span class="at">vowels =</span> <span class="fu">str_count</span>(<span class="fu">str_to_lower</span>(name), <span class="st">"[aeiou]"</span>),</span>
<span id="cb141-237"><a href="#cb141-237" aria-hidden="true" tabindex="-1"></a>    <span class="at">consonants =</span> <span class="fu">str_count</span>(<span class="fu">str_to_lower</span>(name), <span class="st">"[^aeiou]"</span>)</span>
<span id="cb141-238"><a href="#cb141-238" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb141-239"><a href="#cb141-239" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(name, vowels, consonants)</span>
<span id="cb141-240"><a href="#cb141-240" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb141-241"><a href="#cb141-241" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-242"><a href="#cb141-242" aria-hidden="true" tabindex="-1"></a>**Zamjena vrijednosti**</span>
<span id="cb141-243"><a href="#cb141-243" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-244"><a href="#cb141-244" aria-hidden="true" tabindex="-1"></a>Regularne izraze možemo modificirati s funkcijom <span class="in">`str_replace()`</span> i <span class="in">`str_replace_all()`</span>. <span class="in">`str_replace()`</span> zamjenjuje samo prvo poklapanje, a <span class="in">`str_replace_all()`</span> zamjenjuje sva poklapanja prema nekom kriteriju.</span>
<span id="cb141-245"><a href="#cb141-245" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-248"><a href="#cb141-248" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb141-249"><a href="#cb141-249" aria-hidden="true" tabindex="-1"></a><span class="co"># Zamjenjujemo "char" s "flame" u Pokémon nazivima</span></span>
<span id="cb141-250"><a href="#cb141-250" aria-hidden="true" tabindex="-1"></a><span class="fu">str_replace</span>(pokemon_names, <span class="st">"[Cc]har"</span>, <span class="st">"Flame"</span>)</span>
<span id="cb141-251"><a href="#cb141-251" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-252"><a href="#cb141-252" aria-hidden="true" tabindex="-1"></a><span class="co"># Uklanjamo sve samoglasnike iz naziva</span></span>
<span id="cb141-253"><a href="#cb141-253" aria-hidden="true" tabindex="-1"></a><span class="fu">str_replace_all</span>(pokemon_names, <span class="st">"[aeiou]"</span>, <span class="st">""</span>)</span>
<span id="cb141-254"><a href="#cb141-254" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-255"><a href="#cb141-255" aria-hidden="true" tabindex="-1"></a><span class="co"># Uklanjamo "char" iz naziva</span></span>
<span id="cb141-256"><a href="#cb141-256" aria-hidden="true" tabindex="-1"></a><span class="fu">str_remove</span>(pokemon_names, <span class="st">"[Cc]har"</span>)</span>
<span id="cb141-257"><a href="#cb141-257" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-258"><a href="#cb141-258" aria-hidden="true" tabindex="-1"></a><span class="co"># Čišćenje Pokémon tipova s nekonzistentnim formatiranjem</span></span>
<span id="cb141-259"><a href="#cb141-259" aria-hidden="true" tabindex="-1"></a>pokemon_types <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Electric-type"</span>, <span class="st">"Fire/Flying"</span>, <span class="st">"Grass &amp; Poison"</span>, <span class="st">"Water_type"</span>)</span>
<span id="cb141-260"><a href="#cb141-260" aria-hidden="true" tabindex="-1"></a>pokemon_types <span class="sc">|&gt;</span></span>
<span id="cb141-261"><a href="#cb141-261" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_remove_all</span>(<span class="st">"-type|_type"</span>) <span class="sc">|&gt;</span></span>
<span id="cb141-262"><a href="#cb141-262" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_replace_all</span>(<span class="st">"[&amp;/]"</span>, <span class="st">" "</span>)</span>
<span id="cb141-263"><a href="#cb141-263" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb141-264"><a href="#cb141-264" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-265"><a href="#cb141-265" aria-hidden="true" tabindex="-1"></a>**Ekstraktiranje varijabli**</span>
<span id="cb141-266"><a href="#cb141-266" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-267"><a href="#cb141-267" aria-hidden="true" tabindex="-1"></a>Posljednja funkcija ove skupine je <span class="in">`separate_wider_regex()`</span> koja koristi regularne izraze za ekstraktiranje podataka iz jednog stupca u jedan ili više novih stupaca.</span>
<span id="cb141-268"><a href="#cb141-268" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-271"><a href="#cb141-271" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb141-272"><a href="#cb141-272" aria-hidden="true" tabindex="-1"></a><span class="co"># Složeni Pokémon podaci u jednom stupcu</span></span>
<span id="cb141-273"><a href="#cb141-273" aria-hidden="true" tabindex="-1"></a>pokemon_complex <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb141-274"><a href="#cb141-274" aria-hidden="true" tabindex="-1"></a>  <span class="at">pokemon_info =</span> <span class="fu">c</span>(</span>
<span id="cb141-275"><a href="#cb141-275" aria-hidden="true" tabindex="-1"></a>    <span class="st">"&lt;Pikachu&gt;-E_025"</span>,</span>
<span id="cb141-276"><a href="#cb141-276" aria-hidden="true" tabindex="-1"></a>    <span class="st">"&lt;Charmander&gt;-F_004"</span>,</span>
<span id="cb141-277"><a href="#cb141-277" aria-hidden="true" tabindex="-1"></a>    <span class="st">"&lt;Bulbasaur&gt;-G_001"</span>,</span>
<span id="cb141-278"><a href="#cb141-278" aria-hidden="true" tabindex="-1"></a>    <span class="st">"&lt;Squirtle&gt;-W_007"</span></span>
<span id="cb141-279"><a href="#cb141-279" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb141-280"><a href="#cb141-280" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb141-281"><a href="#cb141-281" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-282"><a href="#cb141-282" aria-hidden="true" tabindex="-1"></a><span class="co"># Ekstraktiramo komponente koristeći separate_wider_regex()</span></span>
<span id="cb141-283"><a href="#cb141-283" aria-hidden="true" tabindex="-1"></a>pokemon_complex <span class="sc">|&gt;</span></span>
<span id="cb141-284"><a href="#cb141-284" aria-hidden="true" tabindex="-1"></a>  <span class="fu">separate_wider_regex</span>(</span>
<span id="cb141-285"><a href="#cb141-285" aria-hidden="true" tabindex="-1"></a>    pokemon_info,</span>
<span id="cb141-286"><a href="#cb141-286" aria-hidden="true" tabindex="-1"></a>    <span class="at">patterns =</span> <span class="fu">c</span>(</span>
<span id="cb141-287"><a href="#cb141-287" aria-hidden="true" tabindex="-1"></a>      <span class="st">"&lt;"</span>,</span>
<span id="cb141-288"><a href="#cb141-288" aria-hidden="true" tabindex="-1"></a>      <span class="at">name =</span> <span class="st">"[A-Za-z]+"</span>,</span>
<span id="cb141-289"><a href="#cb141-289" aria-hidden="true" tabindex="-1"></a>      <span class="st">"&gt;-"</span>,</span>
<span id="cb141-290"><a href="#cb141-290" aria-hidden="true" tabindex="-1"></a>      <span class="at">type_code =</span> <span class="st">"."</span>,</span>
<span id="cb141-291"><a href="#cb141-291" aria-hidden="true" tabindex="-1"></a>      <span class="st">"_"</span>,</span>
<span id="cb141-292"><a href="#cb141-292" aria-hidden="true" tabindex="-1"></a>      <span class="at">pokedex_number =</span> <span class="st">"[0-9]+"</span></span>
<span id="cb141-293"><a href="#cb141-293" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb141-294"><a href="#cb141-294" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb141-295"><a href="#cb141-295" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-296"><a href="#cb141-296" aria-hidden="true" tabindex="-1"></a><span class="co"># Pokémon podaci s miješanim formatom borbi</span></span>
<span id="cb141-297"><a href="#cb141-297" aria-hidden="true" tabindex="-1"></a>pokemon_battle_data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb141-298"><a href="#cb141-298" aria-hidden="true" tabindex="-1"></a>  <span class="at">battle_info =</span> <span class="fu">c</span>(</span>
<span id="cb141-299"><a href="#cb141-299" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Pikachu HP:35 ATK:55 won"</span>,</span>
<span id="cb141-300"><a href="#cb141-300" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Charizard HP:78 ATK:84 lost"</span>,</span>
<span id="cb141-301"><a href="#cb141-301" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Blastoise HP:79 ATK:83 won"</span></span>
<span id="cb141-302"><a href="#cb141-302" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb141-303"><a href="#cb141-303" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb141-304"><a href="#cb141-304" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-305"><a href="#cb141-305" aria-hidden="true" tabindex="-1"></a>pokemon_battle_data <span class="sc">|&gt;</span></span>
<span id="cb141-306"><a href="#cb141-306" aria-hidden="true" tabindex="-1"></a>  <span class="fu">separate_wider_regex</span>(</span>
<span id="cb141-307"><a href="#cb141-307" aria-hidden="true" tabindex="-1"></a>    battle_info,</span>
<span id="cb141-308"><a href="#cb141-308" aria-hidden="true" tabindex="-1"></a>    <span class="at">patterns =</span> <span class="fu">c</span>(</span>
<span id="cb141-309"><a href="#cb141-309" aria-hidden="true" tabindex="-1"></a>      <span class="at">name =</span> <span class="st">"[A-Za-z]+"</span>, <span class="st">" HP:"</span>,</span>
<span id="cb141-310"><a href="#cb141-310" aria-hidden="true" tabindex="-1"></a>      <span class="at">hp =</span> <span class="st">"[0-9]+"</span>, <span class="st">" ATK:"</span>,</span>
<span id="cb141-311"><a href="#cb141-311" aria-hidden="true" tabindex="-1"></a>      <span class="at">attack =</span> <span class="st">"[0-9]+"</span>, <span class="st">" "</span>,</span>
<span id="cb141-312"><a href="#cb141-312" aria-hidden="true" tabindex="-1"></a>      <span class="at">result =</span> <span class="st">"[a-z]+"</span></span>
<span id="cb141-313"><a href="#cb141-313" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb141-314"><a href="#cb141-314" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb141-315"><a href="#cb141-315" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb141-316"><a href="#cb141-316" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-317"><a href="#cb141-317" aria-hidden="true" tabindex="-1"></a><span class="fu">### Detalji uzoraka u regularnim izrazima</span></span>
<span id="cb141-318"><a href="#cb141-318" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-319"><a href="#cb141-319" aria-hidden="true" tabindex="-1"></a>Drugi dio bavljenja regularnim izrazima je ulazak u detalje regularnih izraza. To uključuje escaping koji omogućava poklapanje metaznakova koji bi inače bili tretirani posebno, anchore koji omogućavaju poklapanje početka ili kraja niza, klasame znakova i njihove prečace koji omogućavaju poklapanje bilo kojeg znaka iz skupa, detalje kvantifikatora koji kontroliraju koliko se puta uzorak može poklapati te prioritete operatora i zagrada.</span>
<span id="cb141-320"><a href="#cb141-320" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-321"><a href="#cb141-321" aria-hidden="true" tabindex="-1"></a>**Escaping**</span>
<span id="cb141-322"><a href="#cb141-322" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-323"><a href="#cb141-323" aria-hidden="true" tabindex="-1"></a>Da biste se poklopili s literalnom točkom (.), trebate escape koji govori regularnom izrazu da se poklopi s metaznakovima doslovno. Kao i nizovi, regexovi koriste backslash za escaping. Dakle, da se poklopite s točkom, trebate regex. Nažalost, ovo stvara problem. Koristimo nizove za predstavljanje regularnih izraza, a &nbsp;se također koristi kao escape simbol u nizovima. Dakle, da biste stvorili regularni izraz <span class="in">`.`</span>, trebate niz <span class="in">`"\."`</span>.</span>
<span id="cb141-324"><a href="#cb141-324" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-327"><a href="#cb141-327" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb141-328"><a href="#cb141-328" aria-hidden="true" tabindex="-1"></a><span class="co"># Pokémon nazivi s točkama (često kod skraćenica)</span></span>
<span id="cb141-329"><a href="#cb141-329" aria-hidden="true" tabindex="-1"></a>pokemon_with_dots <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Mr. Mime"</span>, <span class="st">"Mime Jr."</span>, <span class="st">"Type: Null"</span>, <span class="st">"Farfetch'd"</span>, <span class="st">"Ho-Oh"</span>)</span>
<span id="cb141-330"><a href="#cb141-330" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-331"><a href="#cb141-331" aria-hidden="true" tabindex="-1"></a><span class="co"># Pogrešno - traži bilo koji znak umjesto točke</span></span>
<span id="cb141-332"><a href="#cb141-332" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view</span>(pokemon_with_dots, <span class="st">"."</span>)</span>
<span id="cb141-333"><a href="#cb141-333" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-334"><a href="#cb141-334" aria-hidden="true" tabindex="-1"></a><span class="co"># Ispravno - traži literalnu točku</span></span>
<span id="cb141-335"><a href="#cb141-335" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view</span>(pokemon_with_dots, <span class="st">"</span><span class="sc">\\</span><span class="st">."</span>)</span>
<span id="cb141-336"><a href="#cb141-336" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb141-337"><a href="#cb141-337" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-338"><a href="#cb141-338" aria-hidden="true" tabindex="-1"></a>Ako <span class="in">`\`</span> se koristi kao escape znak u regularnim izrazima, kako se poklapate s literalnim? Pa, morate ga escapati, stvarajući regularni izraz <span class="in">`\`</span>. Da biste stvorili taj regularni izraz, morate koristiti niz koji također mora escapati. To znači da se za poklapanje s literalnim <span class="in">`\`</span> morate napisati <span class="in">`"\\"`</span>.</span>
<span id="cb141-339"><a href="#cb141-339" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-342"><a href="#cb141-342" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb141-343"><a href="#cb141-343" aria-hidden="true" tabindex="-1"></a><span class="co"># Pokémon putanje s backslash znakovima (hipotetski primjer)</span></span>
<span id="cb141-344"><a href="#cb141-344" aria-hidden="true" tabindex="-1"></a>pokemon_paths <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"data</span><span class="sc">\\</span><span class="st">pokemon</span><span class="sc">\\</span><span class="st">pikachu.txt"</span>, <span class="st">"stats</span><span class="sc">\\</span><span class="st">charizard.csv"</span>)</span>
<span id="cb141-345"><a href="#cb141-345" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-346"><a href="#cb141-346" aria-hidden="true" tabindex="-1"></a><span class="co"># Tražimo literalni backslash</span></span>
<span id="cb141-347"><a href="#cb141-347" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view</span>(pokemon_paths, <span class="st">"</span><span class="sc">\\\\</span><span class="st">"</span>)</span>
<span id="cb141-348"><a href="#cb141-348" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-349"><a href="#cb141-349" aria-hidden="true" tabindex="-1"></a><span class="co"># Pokémon nazivi s različitim interpunkcijskim znakovima</span></span>
<span id="cb141-350"><a href="#cb141-350" aria-hidden="true" tabindex="-1"></a>pokemon_punctuation <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Ho-Oh"</span>, <span class="st">"Porygon-Z"</span>, <span class="st">"Type: Null"</span>, <span class="st">"Mr. Mime"</span>, <span class="st">"Nidoran♂"</span>)</span>
<span id="cb141-351"><a href="#cb141-351" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-352"><a href="#cb141-352" aria-hidden="true" tabindex="-1"></a><span class="co"># Tražimo dvotočku koristeći klasu znakova</span></span>
<span id="cb141-353"><a href="#cb141-353" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view</span>(pokemon_punctuation, <span class="st">"[:]"</span>)</span>
<span id="cb141-354"><a href="#cb141-354" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-355"><a href="#cb141-355" aria-hidden="true" tabindex="-1"></a><span class="co"># Tražimo crticu</span></span>
<span id="cb141-356"><a href="#cb141-356" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view</span>(pokemon_punctuation, <span class="st">"[-]"</span>)</span>
<span id="cb141-357"><a href="#cb141-357" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb141-358"><a href="#cb141-358" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-359"><a href="#cb141-359" aria-hidden="true" tabindex="-1"></a>**Anchori**</span>
<span id="cb141-360"><a href="#cb141-360" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-361"><a href="#cb141-361" aria-hidden="true" tabindex="-1"></a>Po defaultu, regularni izrazi će se poklopiti s bilo kojim dijelom niza. Ako se želite poklopiti na početku ili kraju, trebate usiditi regularni izraz koristeći <span class="in">`^`</span> za poklapanje početka ili <span class="in">`$`</span> za poklapanje kraja, a da biste prisilili regularni izraz da se poklopi samo s cijelim nizom, usidriti ga s <span class="in">`^`</span> i <span class="in">`$`</span>.</span>
<span id="cb141-362"><a href="#cb141-362" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-365"><a href="#cb141-365" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb141-366"><a href="#cb141-366" aria-hidden="true" tabindex="-1"></a>pokemon_names <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Pikachu"</span>, <span class="st">"Raichu"</span>, <span class="st">"Machamp"</span>, <span class="st">"Machoke"</span>, <span class="st">"Machop"</span>)</span>
<span id="cb141-367"><a href="#cb141-367" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-368"><a href="#cb141-368" aria-hidden="true" tabindex="-1"></a><span class="co"># Pokémoni koji počinju s "Pika"</span></span>
<span id="cb141-369"><a href="#cb141-369" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view</span>(pokemon_names, <span class="st">"^Pika"</span>)</span>
<span id="cb141-370"><a href="#cb141-370" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-371"><a href="#cb141-371" aria-hidden="true" tabindex="-1"></a><span class="co"># Pokémoni koji završavaju s "chu"</span></span>
<span id="cb141-372"><a href="#cb141-372" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view</span>(pokemon_names, <span class="st">"chu$"</span>)</span>
<span id="cb141-373"><a href="#cb141-373" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-374"><a href="#cb141-374" aria-hidden="true" tabindex="-1"></a><span class="co"># Točno "Pikachu", ne dio naziva</span></span>
<span id="cb141-375"><a href="#cb141-375" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view</span>(pokemon_names, <span class="st">"^Pikachu$"</span>)</span>
<span id="cb141-376"><a href="#cb141-376" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb141-377"><a href="#cb141-377" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-378"><a href="#cb141-378" aria-hidden="true" tabindex="-1"></a>Također se možete poklopiti s granicom između riječi (tj. početak ili kraj riječi) s <span class="in">`\b`</span>. Ovo može biti posebno korisno pri korištenju alata za pronalaženje i zamjenu.</span>
<span id="cb141-379"><a href="#cb141-379" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-382"><a href="#cb141-382" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb141-383"><a href="#cb141-383" aria-hidden="true" tabindex="-1"></a><span class="co"># Evolucijska linija Machamp obitelji</span></span>
<span id="cb141-384"><a href="#cb141-384" aria-hidden="true" tabindex="-1"></a>machamp_family <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Machop"</span>, <span class="st">"Machoke"</span>, <span class="st">"Machamp"</span>, <span class="st">"Supermachamp"</span>)</span>
<span id="cb141-385"><a href="#cb141-385" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-386"><a href="#cb141-386" aria-hidden="true" tabindex="-1"></a><span class="co"># Tražimo točno "Mach" na početku riječi</span></span>
<span id="cb141-387"><a href="#cb141-387" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view</span>(machamp_family, <span class="st">"</span><span class="sc">\\</span><span class="st">bMach</span><span class="sc">\\</span><span class="st">b"</span>)</span>
<span id="cb141-388"><a href="#cb141-388" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-389"><a href="#cb141-389" aria-hidden="true" tabindex="-1"></a><span class="co"># Tražimo "Machop" kao potpunu riječ</span></span>
<span id="cb141-390"><a href="#cb141-390" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view</span>(machamp_family, <span class="st">"</span><span class="sc">\\</span><span class="st">bMachop</span><span class="sc">\\</span><span class="st">b"</span>)</span>
<span id="cb141-391"><a href="#cb141-391" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb141-392"><a href="#cb141-392" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-393"><a href="#cb141-393" aria-hidden="true" tabindex="-1"></a>**Klase znakova**</span>
<span id="cb141-394"><a href="#cb141-394" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-395"><a href="#cb141-395" aria-hidden="true" tabindex="-1"></a>Klasa znakova, ili skup znakova, omogućava poklapanje bilo kojeg znaka u skupu. Možete konstruirati vlastite skupove s <span class="in">`[]`</span> gdje <span class="in">`[abc]`</span> poklapaju "a", "b" ili "c" i <span class="in">`[^abc]`</span> poklapaju bilo koji znak osim "a", "b" ili "c".</span>
<span id="cb141-396"><a href="#cb141-396" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-399"><a href="#cb141-399" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb141-400"><a href="#cb141-400" aria-hidden="true" tabindex="-1"></a><span class="co"># Pokémoni čiji nazivi počinju određenim slovima</span></span>
<span id="cb141-401"><a href="#cb141-401" aria-hidden="true" tabindex="-1"></a>pokemon_starters <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Bulbasaur"</span>, <span class="st">"Charmander"</span>, <span class="st">"Squirtle"</span>, <span class="st">"Pikachu"</span>, <span class="st">"Eevee"</span>)</span>
<span id="cb141-402"><a href="#cb141-402" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-403"><a href="#cb141-403" aria-hidden="true" tabindex="-1"></a><span class="co"># Pokémoni koji počinju samoglasnicima</span></span>
<span id="cb141-404"><a href="#cb141-404" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view</span>(pokemon_starters, <span class="st">"^[AEIOU]"</span>)</span>
<span id="cb141-405"><a href="#cb141-405" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-406"><a href="#cb141-406" aria-hidden="true" tabindex="-1"></a><span class="co"># Pokémoni koji ne počinju samoglasnicima</span></span>
<span id="cb141-407"><a href="#cb141-407" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view</span>(pokemon_starters, <span class="st">"^[^AEIOU]"</span>)</span>
<span id="cb141-408"><a href="#cb141-408" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb141-409"><a href="#cb141-409" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-410"><a href="#cb141-410" aria-hidden="true" tabindex="-1"></a>Osim <span class="in">`^`</span> postoje dva druga znaka koja imaju posebno značenje unutar <span class="in">`[]`</span>:</span>
<span id="cb141-411"><a href="#cb141-411" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-412"><a href="#cb141-412" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span><span class="in">`-`</span> koji definira raspon, npr., <span class="in">`[a-z]`</span> poklapaju bilo koje malo slovo i <span class="in">`[0-9]`</span> poklapaju bilo koji broj.</span>
<span id="cb141-413"><a href="#cb141-413" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-414"><a href="#cb141-414" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span><span class="in">`\`</span> escapira posebne znakove, tako da <span class="in">`[^-]]`</span> poklapaju <span class="in">`^`</span>, <span class="in">`-`</span> ili <span class="in">`]`</span>.</span>
<span id="cb141-415"><a href="#cb141-415" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-418"><a href="#cb141-418" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb141-419"><a href="#cb141-419" aria-hidden="true" tabindex="-1"></a><span class="co"># Pokémoni s brojevima u nazivu (Gen VII+)</span></span>
<span id="cb141-420"><a href="#cb141-420" aria-hidden="true" tabindex="-1"></a>pokemon_with_numbers <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Type: Null"</span>, <span class="st">"Silvally"</span>, <span class="st">"UB-01"</span>, <span class="st">"UB-02"</span>, <span class="st">"Porygon-Z"</span>)</span>
<span id="cb141-421"><a href="#cb141-421" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-422"><a href="#cb141-422" aria-hidden="true" tabindex="-1"></a><span class="co"># Tražimo Pokémone s brojevima</span></span>
<span id="cb141-423"><a href="#cb141-423" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view</span>(pokemon_with_numbers, <span class="st">"[0-9]"</span>)</span>
<span id="cb141-424"><a href="#cb141-424" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-425"><a href="#cb141-425" aria-hidden="true" tabindex="-1"></a><span class="co"># Pokémon nazivi s crticama</span></span>
<span id="cb141-426"><a href="#cb141-426" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view</span>(pokemon_with_numbers, <span class="st">"[</span><span class="sc">\\</span><span class="st">-]"</span>)</span>
<span id="cb141-427"><a href="#cb141-427" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb141-428"><a href="#cb141-428" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-429"><a href="#cb141-429" aria-hidden="true" tabindex="-1"></a>Neke klase znakova se koriste tako često da dobivaju vlastite prečace. Već ste vidjeli <span class="in">`.`</span> koji poklapaju bilo koji znak osim newline. Postoje tri druga posebno korisna para:</span>
<span id="cb141-430"><a href="#cb141-430" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-431"><a href="#cb141-431" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span><span class="in">`\d`</span> poklapaju bilo koji broj i <span class="in">`\D`</span> poklapaju sve što nije broj.</span>
<span id="cb141-432"><a href="#cb141-432" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-433"><a href="#cb141-433" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span><span class="in">`\s`</span> poklapaju bilo koji whitespace i <span class="in">`\S`</span> poklapaju sve što nije whitespace.</span>
<span id="cb141-434"><a href="#cb141-434" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-435"><a href="#cb141-435" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span><span class="in">`\w`</span> poklapaju bilo koji "word" znak, tj. slova i brojevi i <span class="in">`\W`</span> poklapaju bilo koji "non-word" znak.</span>
<span id="cb141-436"><a href="#cb141-436" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-439"><a href="#cb141-439" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb141-440"><a href="#cb141-440" aria-hidden="true" tabindex="-1"></a><span class="co"># Pokémon podaci s miješanim formatom</span></span>
<span id="cb141-441"><a href="#cb141-441" aria-hidden="true" tabindex="-1"></a>pokemon_data_mixed <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Pikachu Lv25"</span>, <span class="st">"Charizard HP78"</span>, <span class="st">"Mewtwo Lv100"</span>, <span class="st">"Mew HP200"</span>)</span>
<span id="cb141-442"><a href="#cb141-442" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-443"><a href="#cb141-443" aria-hidden="true" tabindex="-1"></a><span class="co"># Tražimo brojeve (leveli i HP)</span></span>
<span id="cb141-444"><a href="#cb141-444" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view</span>(pokemon_data_mixed, <span class="st">"</span><span class="sc">\\</span><span class="st">d+"</span>)</span>
<span id="cb141-445"><a href="#cb141-445" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-446"><a href="#cb141-446" aria-hidden="true" tabindex="-1"></a><span class="co"># Tražimo slova (nazivi Pokémona)</span></span>
<span id="cb141-447"><a href="#cb141-447" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view</span>(pokemon_data_mixed, <span class="st">"</span><span class="sc">\\</span><span class="st">w+"</span>)</span>
<span id="cb141-448"><a href="#cb141-448" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb141-449"><a href="#cb141-449" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-450"><a href="#cb141-450" aria-hidden="true" tabindex="-1"></a>**Kvantifikatori**</span>
<span id="cb141-451"><a href="#cb141-451" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-452"><a href="#cb141-452" aria-hidden="true" tabindex="-1"></a>Kvantifikatori kontroliraju koliko se puta uzorak poklapaju. U ranijim odjeljcima naučili ste <span class="in">`o`</span> ? (0 ili 1 poklapanja), <span class="in">`+`</span> (1 ili više poklapanja) i <span class="in">`*`</span> (0 ili više poklapanja). Također možete precizno specificirati broj poklapanja s <span class="in">`{}`</span>.</span>
<span id="cb141-453"><a href="#cb141-453" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-456"><a href="#cb141-456" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb141-457"><a href="#cb141-457" aria-hidden="true" tabindex="-1"></a><span class="co"># Pokémon nazivi različitih duljina</span></span>
<span id="cb141-458"><a href="#cb141-458" aria-hidden="true" tabindex="-1"></a>pokemon_lengths <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Mew"</span>, <span class="st">"Alakazam"</span>, <span class="st">"Ho-Oh"</span>, <span class="st">"Articuno"</span>, <span class="st">"Zapdos"</span>)</span>
<span id="cb141-459"><a href="#cb141-459" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-460"><a href="#cb141-460" aria-hidden="true" tabindex="-1"></a><span class="co"># Točno 3 znaka</span></span>
<span id="cb141-461"><a href="#cb141-461" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view</span>(pokemon_lengths, <span class="st">"^</span><span class="sc">\\</span><span class="st">w{3}$"</span>)</span>
<span id="cb141-462"><a href="#cb141-462" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-463"><a href="#cb141-463" aria-hidden="true" tabindex="-1"></a><span class="co"># Između 5 i 7 znakova</span></span>
<span id="cb141-464"><a href="#cb141-464" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view</span>(pokemon_lengths, <span class="st">"^</span><span class="sc">\\</span><span class="st">w{5,7}$"</span>)</span>
<span id="cb141-465"><a href="#cb141-465" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-466"><a href="#cb141-466" aria-hidden="true" tabindex="-1"></a><span class="co"># 5 ili više znakova</span></span>
<span id="cb141-467"><a href="#cb141-467" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view</span>(pokemon_lengths, <span class="st">"^</span><span class="sc">\\</span><span class="st">w{5,}$"</span>)</span>
<span id="cb141-468"><a href="#cb141-468" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb141-469"><a href="#cb141-469" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-470"><a href="#cb141-470" aria-hidden="true" tabindex="-1"></a>**Prioritet operatora i zagrade**</span>
<span id="cb141-471"><a href="#cb141-471" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-472"><a href="#cb141-472" aria-hidden="true" tabindex="-1"></a>Što poklapaju ab+? Poklapaju li "a" praćen jednim ili više "b" ili poklapaju "ab" ponovljen bilo koji broj puta? Što poklapaju \^a<span class="sc">\|</span>b\$? Poklapaju li cijeli niz a ili cijeli niz b, ili poklapaju niz koji počinje s a ili niz koji završava s b? Kao i algebra, možete koristiti zagrade za prebrisavanje uobičajenog reda. Ali za razliku od algebre, vjerojatno nećete pamtiti pravila prioriteta za regexove, pa slobodno koristite zagrade liberalno.</span>
<span id="cb141-473"><a href="#cb141-473" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-476"><a href="#cb141-476" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb141-477"><a href="#cb141-477" aria-hidden="true" tabindex="-1"></a><span class="co"># Pokémon nazivi za testiranje prioriteta</span></span>
<span id="cb141-478"><a href="#cb141-478" aria-hidden="true" tabindex="-1"></a>pokemon_test <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Pikachu"</span>, <span class="st">"Pikablu"</span>, <span class="st">"Raichu"</span>, <span class="st">"Raiblu"</span>, <span class="st">"Pika"</span>, <span class="st">"Rai"</span>)</span>
<span id="cb141-479"><a href="#cb141-479" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-480"><a href="#cb141-480" aria-hidden="true" tabindex="-1"></a><span class="co"># ab+ znači a(b+), ne (ab)+</span></span>
<span id="cb141-481"><a href="#cb141-481" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view</span>(pokemon_test, <span class="st">"Pika+"</span>)</span>
<span id="cb141-482"><a href="#cb141-482" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-483"><a href="#cb141-483" aria-hidden="true" tabindex="-1"></a><span class="co"># Za (ab)+ trebate zagrade</span></span>
<span id="cb141-484"><a href="#cb141-484" aria-hidden="true" tabindex="-1"></a>pokemon_repeat <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Pikapika"</span>, <span class="st">"Rairai"</span>, <span class="st">"Pikablu"</span>)</span>
<span id="cb141-485"><a href="#cb141-485" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view</span>(pokemon_repeat, <span class="st">"(Pika)+"</span>)</span>
<span id="cb141-486"><a href="#cb141-486" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb141-487"><a href="#cb141-487" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-488"><a href="#cb141-488" aria-hidden="true" tabindex="-1"></a>**Grupiranje i hvatanje**</span>
<span id="cb141-489"><a href="#cb141-489" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-490"><a href="#cb141-490" aria-hidden="true" tabindex="-1"></a>Osim prebrisavanja prioriteta operatora, zagrade imaju još jedan važan učinak - stvaraju grupe za hvatanje koje omogućavaju korištenje pod-komponenti poklapanja.</span>
<span id="cb141-491"><a href="#cb141-491" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-494"><a href="#cb141-494" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb141-495"><a href="#cb141-495" aria-hidden="true" tabindex="-1"></a><span class="co"># Pokémoni s ponavljajućim parovima slova</span></span>
<span id="cb141-496"><a href="#cb141-496" aria-hidden="true" tabindex="-1"></a>pokemon_pairs <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Rattata"</span>, <span class="st">"Diglett"</span>, <span class="st">"Seel"</span>, <span class="st">"Koffing"</span>)</span>
<span id="cb141-497"><a href="#cb141-497" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-498"><a href="#cb141-498" aria-hidden="true" tabindex="-1"></a><span class="co"># Tražimo ponavljajuće parove slova koristeći backreference</span></span>
<span id="cb141-499"><a href="#cb141-499" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view</span>(pokemon_pairs, <span class="st">"(..)</span><span class="sc">\\</span><span class="st">1"</span>)</span>
<span id="cb141-500"><a href="#cb141-500" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-501"><a href="#cb141-501" aria-hidden="true" tabindex="-1"></a><span class="co"># Pokémoni koji počinju i završavaju istim parom</span></span>
<span id="cb141-502"><a href="#cb141-502" aria-hidden="true" tabindex="-1"></a>pokemon_palindrome <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Rotom"</span>, <span class="st">"Girafarig"</span>, <span class="st">"Ho-Oh"</span>)</span>
<span id="cb141-503"><a href="#cb141-503" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view</span>(pokemon_palindrome, <span class="st">"^(..).*</span><span class="sc">\\</span><span class="st">1$"</span>)</span>
<span id="cb141-504"><a href="#cb141-504" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb141-505"><a href="#cb141-505" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-506"><a href="#cb141-506" aria-hidden="true" tabindex="-1"></a>Također možete koristiti back reference u <span class="in">`str_replace()`</span>. Na primjer, ovaj kod mijenja redoslijed drugog i trećeg riječi.</span>
<span id="cb141-507"><a href="#cb141-507" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-510"><a href="#cb141-510" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb141-511"><a href="#cb141-511" aria-hidden="true" tabindex="-1"></a><span class="co"># Pokémon evolucijske linije</span></span>
<span id="cb141-512"><a href="#cb141-512" aria-hidden="true" tabindex="-1"></a>evolution_lines <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb141-513"><a href="#cb141-513" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Bulbasaur evolves into Ivysaur"</span>,</span>
<span id="cb141-514"><a href="#cb141-514" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Charmander evolves into Charmeleon"</span>,</span>
<span id="cb141-515"><a href="#cb141-515" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Squirtle evolves into Wartortle"</span></span>
<span id="cb141-516"><a href="#cb141-516" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb141-517"><a href="#cb141-517" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-518"><a href="#cb141-518" aria-hidden="true" tabindex="-1"></a><span class="co"># Mijenjamo redoslijed riječi pomoću grupa</span></span>
<span id="cb141-519"><a href="#cb141-519" aria-hidden="true" tabindex="-1"></a><span class="fu">str_replace</span>(evolution_lines, <span class="st">"(</span><span class="sc">\\</span><span class="st">w+) (</span><span class="sc">\\</span><span class="st">w+) (</span><span class="sc">\\</span><span class="st">w+)"</span>, <span class="st">"</span><span class="sc">\\</span><span class="st">1 </span><span class="sc">\\</span><span class="st">3 </span><span class="sc">\\</span><span class="st">2"</span>)</span>
<span id="cb141-520"><a href="#cb141-520" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb141-521"><a href="#cb141-521" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-522"><a href="#cb141-522" aria-hidden="true" tabindex="-1"></a><span class="fu">### Kontrola uzoraka u regularnim izrazima</span></span>
<span id="cb141-523"><a href="#cb141-523" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-524"><a href="#cb141-524" aria-hidden="true" tabindex="-1"></a>Moguće je vršiti dodatnu kontrolu nad detaljima poklapanja korištenjem pattern objekta umjesto samo niza. Ovo omogućava kontrolu nad takozvanim regex flagovima i poklapanje različitih tipova fiksnih nizova.</span>
<span id="cb141-525"><a href="#cb141-525" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-526"><a href="#cb141-526" aria-hidden="true" tabindex="-1"></a>**Regex flagovi**</span>
<span id="cb141-527"><a href="#cb141-527" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-528"><a href="#cb141-528" aria-hidden="true" tabindex="-1"></a>Postoji nekoliko postavki koje se mogu koristiti za kontrolu detalja regexp-a. Ove postavke se često nazivaju flagovi u drugim programskim jezicima. U <span class="in">`stringr`</span>-u ih možete koristiti tako da zavisate uzorak u poziv <span class="in">`regex()`</span>. Najkorisniji flag je <span class="in">`ignore_case = TRUE`</span> jer omogućava znakovima da se poklapaju s velikim ili malim slovima.</span>
<span id="cb141-529"><a href="#cb141-529" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-532"><a href="#cb141-532" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb141-533"><a href="#cb141-533" aria-hidden="true" tabindex="-1"></a><span class="co"># Pokémon nazivi s miješanim velikim/malim slovima</span></span>
<span id="cb141-534"><a href="#cb141-534" aria-hidden="true" tabindex="-1"></a>pokemon_mixed_case <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"PIKACHU"</span>, <span class="st">"pikachu"</span>, <span class="st">"Pikachu"</span>, <span class="st">"PiKaChU"</span>, <span class="st">"CHARIZARD"</span>, <span class="st">"charizard"</span>, <span class="st">"Charizard"</span>)</span>
<span id="cb141-535"><a href="#cb141-535" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-536"><a href="#cb141-536" aria-hidden="true" tabindex="-1"></a><span class="co"># Tražimo "pikachu" ignorirajući razlike u velikim/malim slovima</span></span>
<span id="cb141-537"><a href="#cb141-537" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view</span>(pokemon_mixed_case, <span class="fu">regex</span>(<span class="st">"pikachu"</span>, <span class="at">ignore_case =</span> <span class="cn">TRUE</span>))</span>
<span id="cb141-538"><a href="#cb141-538" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-539"><a href="#cb141-539" aria-hidden="true" tabindex="-1"></a><span class="co"># Brojimo koliko Pokémona sadrži "char" bez obzira na velika/mala slova</span></span>
<span id="cb141-540"><a href="#cb141-540" aria-hidden="true" tabindex="-1"></a><span class="fu">str_count</span>(pokemon_mixed_case, <span class="fu">regex</span>(<span class="st">"char"</span>, <span class="at">ignore_case =</span> <span class="cn">TRUE</span>))</span>
<span id="cb141-541"><a href="#cb141-541" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb141-542"><a href="#cb141-542" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-543"><a href="#cb141-543" aria-hidden="true" tabindex="-1"></a>Ako radite mnogo s višelinijskim nizovima (tj. nizovi koji sadrže <span class="in">`\n`</span>), <span class="in">`dotall`</span> i <span class="in">`multiline`</span> mogu također biti korisni, <span class="in">`dotall = TRUE`</span> omogućava <span class="in">`.`</span> da se poklapa s sve, uključujući <span class="in">`\n`</span>, a <span class="in">`multiline = TRUE`</span> čini <span class="in">`^`</span> i <span class="in">`$`</span> da se poklapaju s početkom i krajem svake linije umjesto početka i kraja cijelog niza.</span>
<span id="cb141-544"><a href="#cb141-544" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-547"><a href="#cb141-547" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb141-548"><a href="#cb141-548" aria-hidden="true" tabindex="-1"></a><span class="co"># Pokémon opis s više linija</span></span>
<span id="cb141-549"><a href="#cb141-549" aria-hidden="true" tabindex="-1"></a>pokemon_description <span class="ot">&lt;-</span> <span class="st">"Pikachu is an Electric-type Pokémon.</span><span class="sc">\n</span><span class="st">It evolves from Pichu.</span><span class="sc">\n</span><span class="st">It can evolve into Raichu."</span></span>
<span id="cb141-550"><a href="#cb141-550" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-551"><a href="#cb141-551" aria-hidden="true" tabindex="-1"></a><span class="co"># Bez dotall flag - točka ne poklapa newline</span></span>
<span id="cb141-552"><a href="#cb141-552" aria-hidden="true" tabindex="-1"></a><span class="fu">str_extract</span>(pokemon_description, <span class="st">"Electric.*Pichu"</span>)</span>
<span id="cb141-553"><a href="#cb141-553" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-554"><a href="#cb141-554" aria-hidden="true" tabindex="-1"></a><span class="co"># S dotall flag - točka poklapa sve uključujući newline</span></span>
<span id="cb141-555"><a href="#cb141-555" aria-hidden="true" tabindex="-1"></a><span class="fu">str_extract</span>(pokemon_description, <span class="fu">regex</span>(<span class="st">"Electric.*Pichu"</span>, <span class="at">dotall =</span> <span class="cn">TRUE</span>))</span>
<span id="cb141-556"><a href="#cb141-556" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-557"><a href="#cb141-557" aria-hidden="true" tabindex="-1"></a><span class="co"># Višelinijski Pokémon popis</span></span>
<span id="cb141-558"><a href="#cb141-558" aria-hidden="true" tabindex="-1"></a>pokemon_list <span class="ot">&lt;-</span> <span class="st">"Generation 1:</span><span class="sc">\n</span><span class="st">Pikachu</span><span class="sc">\n</span><span class="st">Charizard</span><span class="sc">\n</span><span class="st">Generation 2:</span><span class="sc">\n</span><span class="st">Lugia</span><span class="sc">\n</span><span class="st">Ho-Oh"</span></span>
<span id="cb141-559"><a href="#cb141-559" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-560"><a href="#cb141-560" aria-hidden="true" tabindex="-1"></a><span class="co"># Bez multiline - ^ i $ se odnose na cijeli string</span></span>
<span id="cb141-561"><a href="#cb141-561" aria-hidden="true" tabindex="-1"></a><span class="fu">str_extract_all</span>(pokemon_list, <span class="st">"^Generation.*"</span>)</span>
<span id="cb141-562"><a href="#cb141-562" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-563"><a href="#cb141-563" aria-hidden="true" tabindex="-1"></a><span class="co"># S multiline - ^ i $ za svaku liniju</span></span>
<span id="cb141-564"><a href="#cb141-564" aria-hidden="true" tabindex="-1"></a><span class="fu">str_extract_all</span>(pokemon_list, <span class="fu">regex</span>(<span class="st">"^Generation.*"</span>, <span class="at">multiline =</span> <span class="cn">TRUE</span>))</span>
<span id="cb141-565"><a href="#cb141-565" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb141-566"><a href="#cb141-566" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-567"><a href="#cb141-567" aria-hidden="true" tabindex="-1"></a>Konačno, ako pišete komplicirani regularni izraz i zabrinuti ste da ga možda nećete razumjeti u budućnosti, možete pokušati <span class="in">`comments = TRUE`</span>. To mijenja jezik uzorka da ignorira razmake i nove linije, kao i sve nakon <span class="in">`#`</span>. Ovo omogućava korištenje komentara i razmaka da učinite složene regularne izraze razumljivijima.</span>
<span id="cb141-568"><a href="#cb141-568" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-571"><a href="#cb141-571" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb141-572"><a href="#cb141-572" aria-hidden="true" tabindex="-1"></a><span class="co"># Složeni uzorak za parsiranje Pokémon statistika s komentarima</span></span>
<span id="cb141-573"><a href="#cb141-573" aria-hidden="true" tabindex="-1"></a>pokemon_stats_pattern <span class="ot">&lt;-</span> <span class="fu">regex</span>(</span>
<span id="cb141-574"><a href="#cb141-574" aria-hidden="true" tabindex="-1"></a>  r<span class="st">"(</span></span>
<span id="cb141-575"><a href="#cb141-575" aria-hidden="true" tabindex="-1"></a><span class="st">    (\w+)</span></span>
<span id="cb141-576"><a href="#cb141-576" aria-hidden="true" tabindex="-1"></a><span class="st">    \s+</span></span>
<span id="cb141-577"><a href="#cb141-577" aria-hidden="true" tabindex="-1"></a><span class="st">    HP:(\d+)</span></span>
<span id="cb141-578"><a href="#cb141-578" aria-hidden="true" tabindex="-1"></a><span class="st">    \s+</span></span>
<span id="cb141-579"><a href="#cb141-579" aria-hidden="true" tabindex="-1"></a><span class="st">    ATK:(\d+)</span></span>
<span id="cb141-580"><a href="#cb141-580" aria-hidden="true" tabindex="-1"></a><span class="st">    \s+</span></span>
<span id="cb141-581"><a href="#cb141-581" aria-hidden="true" tabindex="-1"></a><span class="st">    DEF:(\d+)</span></span>
<span id="cb141-582"><a href="#cb141-582" aria-hidden="true" tabindex="-1"></a><span class="st">  )"</span>,</span>
<span id="cb141-583"><a href="#cb141-583" aria-hidden="true" tabindex="-1"></a>  <span class="at">comments =</span> <span class="cn">TRUE</span></span>
<span id="cb141-584"><a href="#cb141-584" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb141-585"><a href="#cb141-585" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-586"><a href="#cb141-586" aria-hidden="true" tabindex="-1"></a>pokemon_battle_data <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb141-587"><a href="#cb141-587" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Pikachu HP:35 ATK:55 DEF:40"</span>,</span>
<span id="cb141-588"><a href="#cb141-588" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Charizard HP:78 ATK:84 DEF:78"</span></span>
<span id="cb141-589"><a href="#cb141-589" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb141-590"><a href="#cb141-590" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-591"><a href="#cb141-591" aria-hidden="true" tabindex="-1"></a><span class="fu">str_match</span>(pokemon_battle_data, pokemon_stats_pattern)</span>
<span id="cb141-592"><a href="#cb141-592" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb141-593"><a href="#cb141-593" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-594"><a href="#cb141-594" aria-hidden="true" tabindex="-1"></a>**Fiksna poklapanja**</span>
<span id="cb141-595"><a href="#cb141-595" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-596"><a href="#cb141-596" aria-hidden="true" tabindex="-1"></a>Možete se odlučiti za izlaz iz pravila regularnih izraza korištenjem <span class="in">`fixed()`</span>. Ona također daje mogućnost ignoriranja velikih/malih slova.</span>
<span id="cb141-597"><a href="#cb141-597" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-600"><a href="#cb141-600" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb141-601"><a href="#cb141-601" aria-hidden="true" tabindex="-1"></a><span class="co"># Pokémon nazivi s posebnim znakovima</span></span>
<span id="cb141-602"><a href="#cb141-602" aria-hidden="true" tabindex="-1"></a>pokemon_special <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Type: Null"</span>, <span class="st">"Mr. Mime"</span>, <span class="st">"Farfetch'd"</span>, <span class="st">"Ho-Oh"</span>, <span class="st">"Porygon-Z"</span>)</span>
<span id="cb141-603"><a href="#cb141-603" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-604"><a href="#cb141-604" aria-hidden="true" tabindex="-1"></a><span class="co"># Tražimo literalni ":"  koristeći fixed()</span></span>
<span id="cb141-605"><a href="#cb141-605" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view</span>(pokemon_special, <span class="fu">fixed</span>(<span class="st">":"</span>))</span>
<span id="cb141-606"><a href="#cb141-606" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-607"><a href="#cb141-607" aria-hidden="true" tabindex="-1"></a><span class="co"># Tražimo literalni "-" koristeći fixed()</span></span>
<span id="cb141-608"><a href="#cb141-608" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view</span>(pokemon_special, <span class="fu">fixed</span>(<span class="st">"-"</span>))</span>
<span id="cb141-609"><a href="#cb141-609" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-610"><a href="#cb141-610" aria-hidden="true" tabindex="-1"></a><span class="co"># Poredba s regex pristupom (trebalo bi escapiranje)</span></span>
<span id="cb141-611"><a href="#cb141-611" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view</span>(pokemon_special, <span class="st">":"</span>)</span>
<span id="cb141-612"><a href="#cb141-612" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-613"><a href="#cb141-613" aria-hidden="true" tabindex="-1"></a><span class="co"># Pokémoni s različitim kombinacijama velikih/malih slova</span></span>
<span id="cb141-614"><a href="#cb141-614" aria-hidden="true" tabindex="-1"></a>pokemon_cases <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"PIKACHU"</span>, <span class="st">"pikachu"</span>, <span class="st">"Pikachu"</span>, <span class="st">"Mr. MIME"</span>, <span class="st">"mr. mime"</span>)</span>
<span id="cb141-615"><a href="#cb141-615" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-616"><a href="#cb141-616" aria-hidden="true" tabindex="-1"></a><span class="co"># Tražimo "mr. mime" ignorirajući velika/mala slova</span></span>
<span id="cb141-617"><a href="#cb141-617" aria-hidden="true" tabindex="-1"></a><span class="fu">str_detect</span>(pokemon_cases, <span class="fu">fixed</span>(<span class="st">"mr. mime"</span>, <span class="at">ignore_case =</span> <span class="cn">TRUE</span>))</span>
<span id="cb141-618"><a href="#cb141-618" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb141-619"><a href="#cb141-619" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-622"><a href="#cb141-622" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb141-623"><a href="#cb141-623" aria-hidden="true" tabindex="-1"></a><span class="co"># Kombiniranje različitih flagova za složenije pretraživanje</span></span>
<span id="cb141-624"><a href="#cb141-624" aria-hidden="true" tabindex="-1"></a>pokemon_complex_data <span class="ot">&lt;-</span> <span class="st">"Generation I (1996):</span><span class="sc">\n</span><span class="st">Pikachu - Electric Type</span><span class="sc">\n</span><span class="st">Charizard - Fire/Flying Type</span><span class="sc">\n\n</span><span class="st">Generation II (1999):</span><span class="sc">\n</span><span class="st">Lugia - Psychic/Flying Type"</span></span>
<span id="cb141-625"><a href="#cb141-625" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-626"><a href="#cb141-626" aria-hidden="true" tabindex="-1"></a><span class="co"># Ekstraktiranje svih generacija s njihovim godinama</span></span>
<span id="cb141-627"><a href="#cb141-627" aria-hidden="true" tabindex="-1"></a>generation_pattern <span class="ot">&lt;-</span> <span class="fu">regex</span>(</span>
<span id="cb141-628"><a href="#cb141-628" aria-hidden="true" tabindex="-1"></a>  r<span class="st">"(</span></span>
<span id="cb141-629"><a href="#cb141-629" aria-hidden="true" tabindex="-1"></a><span class="st">    Generation\s+</span></span>
<span id="cb141-630"><a href="#cb141-630" aria-hidden="true" tabindex="-1"></a><span class="st">    ([IVX]+)</span></span>
<span id="cb141-631"><a href="#cb141-631" aria-hidden="true" tabindex="-1"></a><span class="st">    \s*\(</span></span>
<span id="cb141-632"><a href="#cb141-632" aria-hidden="true" tabindex="-1"></a><span class="st">    (\d{4})</span></span>
<span id="cb141-633"><a href="#cb141-633" aria-hidden="true" tabindex="-1"></a><span class="st">    \)</span></span>
<span id="cb141-634"><a href="#cb141-634" aria-hidden="true" tabindex="-1"></a><span class="st">  )"</span>,</span>
<span id="cb141-635"><a href="#cb141-635" aria-hidden="true" tabindex="-1"></a>  <span class="at">comments =</span> <span class="cn">TRUE</span>,</span>
<span id="cb141-636"><a href="#cb141-636" aria-hidden="true" tabindex="-1"></a>  <span class="at">ignore_case =</span> <span class="cn">TRUE</span></span>
<span id="cb141-637"><a href="#cb141-637" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb141-638"><a href="#cb141-638" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-639"><a href="#cb141-639" aria-hidden="true" tabindex="-1"></a><span class="fu">str_extract_all</span>(pokemon_complex_data, generation_pattern)</span>
<span id="cb141-640"><a href="#cb141-640" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-641"><a href="#cb141-641" aria-hidden="true" tabindex="-1"></a><span class="co"># Ekstraktiranje Pokémon naziva s tipovima</span></span>
<span id="cb141-642"><a href="#cb141-642" aria-hidden="true" tabindex="-1"></a>pokemon_type_pattern <span class="ot">&lt;-</span> <span class="fu">regex</span>(</span>
<span id="cb141-643"><a href="#cb141-643" aria-hidden="true" tabindex="-1"></a>  r<span class="st">"(</span></span>
<span id="cb141-644"><a href="#cb141-644" aria-hidden="true" tabindex="-1"></a><span class="st">    ^([A-Za-z]+)</span></span>
<span id="cb141-645"><a href="#cb141-645" aria-hidden="true" tabindex="-1"></a><span class="st">    \s+-\s+</span></span>
<span id="cb141-646"><a href="#cb141-646" aria-hidden="true" tabindex="-1"></a><span class="st">    (.+)\s+Type</span></span>
<span id="cb141-647"><a href="#cb141-647" aria-hidden="true" tabindex="-1"></a><span class="st">  )"</span>,</span>
<span id="cb141-648"><a href="#cb141-648" aria-hidden="true" tabindex="-1"></a>  <span class="at">comments =</span> <span class="cn">TRUE</span>,</span>
<span id="cb141-649"><a href="#cb141-649" aria-hidden="true" tabindex="-1"></a>  <span class="at">multiline =</span> <span class="cn">TRUE</span></span>
<span id="cb141-650"><a href="#cb141-650" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb141-651"><a href="#cb141-651" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-652"><a href="#cb141-652" aria-hidden="true" tabindex="-1"></a><span class="fu">str_match_all</span>(pokemon_complex_data, pokemon_type_pattern)</span>
<span id="cb141-653"><a href="#cb141-653" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-654"><a href="#cb141-654" aria-hidden="true" tabindex="-1"></a><span class="co"># Veliki skup Pokémon naziva za testiranje performansi</span></span>
<span id="cb141-655"><a href="#cb141-655" aria-hidden="true" tabindex="-1"></a>large_pokemon_dataset <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="fu">c</span>(<span class="st">"Pikachu"</span>, <span class="st">"Charizard"</span>, <span class="st">"Blastoise"</span>, <span class="st">"Venusaur"</span>), <span class="dv">1000</span>)</span>
<span id="cb141-656"><a href="#cb141-656" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-657"><a href="#cb141-657" aria-hidden="true" tabindex="-1"></a><span class="co"># Fiksno pretraživanje je brže za jednostavne nizove</span></span>
<span id="cb141-658"><a href="#cb141-658" aria-hidden="true" tabindex="-1"></a><span class="fu">system.time</span>({</span>
<span id="cb141-659"><a href="#cb141-659" aria-hidden="true" tabindex="-1"></a>  fixed_results <span class="ot">&lt;-</span> <span class="fu">str_detect</span>(large_pokemon_dataset, <span class="fu">fixed</span>(<span class="st">"Pikachu"</span>))</span>
<span id="cb141-660"><a href="#cb141-660" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb141-661"><a href="#cb141-661" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-662"><a href="#cb141-662" aria-hidden="true" tabindex="-1"></a><span class="co"># Regex pretraživanje za istu stvar</span></span>
<span id="cb141-663"><a href="#cb141-663" aria-hidden="true" tabindex="-1"></a><span class="fu">system.time</span>({</span>
<span id="cb141-664"><a href="#cb141-664" aria-hidden="true" tabindex="-1"></a>  regex_results <span class="ot">&lt;-</span> <span class="fu">str_detect</span>(large_pokemon_dataset, <span class="st">"Pikachu"</span>)</span>
<span id="cb141-665"><a href="#cb141-665" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb141-666"><a href="#cb141-666" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-667"><a href="#cb141-667" aria-hidden="true" tabindex="-1"></a><span class="co"># Za jednostavna poklapanja, fixed() može biti značajno brži</span></span>
<span id="cb141-668"><a href="#cb141-668" aria-hidden="true" tabindex="-1"></a><span class="fu">identical</span>(fixed_results, regex_results)</span>
<span id="cb141-669"><a href="#cb141-669" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
</code></pre></div><button title="Copy to Clipboard" class="code-copy-button" data-in-quarto-modal=""><i class="bi"></i></button></div>
</div></div></div></div></div>
</div> <!-- /content -->




</body></html>